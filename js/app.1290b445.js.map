{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/behavior/Setting.vue?01e7","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?4d0e","webpack:///./src/components/Editjs.vue?eaf5","webpack:///./src/components/Tinymce.vue?f70c","webpack:///./src/components/config.js","webpack:///./src/components/mixins.js","webpack:///src/components/Tinymce.vue","webpack:///./src/components/Tinymce.vue?b398","webpack:///./src/components/Tinymce.vue","webpack:///./src/components/EditLine.vue?d204","webpack:///src/components/EditLine.vue","webpack:///./src/components/EditLine.vue?78e0","webpack:///./src/components/EditLine.vue","webpack:///./src/components/FormSetting.vue?8ce7","webpack:///src/components/FormSetting.vue","webpack:///./src/components/FormSetting.vue?db40","webpack:///./src/components/FormSetting.vue","webpack:///./src/components/behavior/Setting.vue?07ec","webpack:///./src/components/behavior/ConstEvt.vue?8998","webpack:///src/components/behavior/ConstEvt.vue","webpack:///./src/components/behavior/ConstEvt.vue?823c","webpack:///./src/components/behavior/ConstEvt.vue","webpack:///./src/components/behavior/ScriptEvt.vue?523b","webpack:///./src/components/VueCodemirror.vue?1ba2","webpack:///src/components/VueCodemirror.vue","webpack:///./src/components/VueCodemirror.vue?0d32","webpack:///./src/components/VueCodemirror.vue?dd5f","webpack:///./src/utils/common.js","webpack:///src/components/behavior/ScriptEvt.vue","webpack:///./src/components/behavior/ScriptEvt.vue?7498","webpack:///./src/components/behavior/ScriptEvt.vue","webpack:///src/components/behavior/Setting.vue","webpack:///./src/components/behavior/Setting.vue?504e","webpack:///./src/components/behavior/Setting.vue","webpack:///./src/components/behavior/index.js","webpack:///./src/components/plugin.js","webpack:///./src/components/conversion.js","webpack:///./src/components/field/index.js","webpack:///src/components/Editjs.vue","webpack:///./src/components/Editjs.vue?616a","webpack:///./src/components/Editjs.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/Editjs.vue?b4d7","webpack:///./src/components/FormSetting.vue?db39","webpack:///./src/components/VueCodemirror.vue?7803"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","mock","context","events","on","save","_e","staticRenderFns","staticClass","loading","staticStyle","createTabToolbar","padding","model","callback","$$v","akey","expression","slot","_v","ref","style","height","overflow","_l","main","f","idx","disabled","comment","toUpperCase","nativeOn","$event","insertField","table_comment","table_name","config","assign","lines","content","preview","title","_s","closeTab","refInFor","plugins","editLines","tinymceId","domProps","vm","selector","language","lang","skin","menubar","toolbar_sticky","toolbar","content_style","content_css","extended_valid_elements","table_clone_elements","table_sizing_mode","table_default_styles","width","noneditable_noneditable_class","quickbars_insert_toolbar","toolbar_mode","force_br_newlines","force_p_newlines","draggable_modal","forced_root_block","block","visualblocks_default_state","resize","init_instance_callback","editor","$emit","constTableTpl","methods","getEditor","getSelection","selection","insertElement","target","setNode","insertContent","execCommand","focus","getContent","setContent","ctx","_load","link","component","g_resolve","findParent","element","g_findFieldRow","g_plugin","g_regConfig","edi","g_rewriteMenuItem","menuItems","containClass","node","clazz","onSelectMenu","columns","tableData","event","index","field","fieldVisible","currEvent","item","$delete","bus","action","fieldData","evnetVisible","addFieldEvent","addEvent","this$1","actions","visible","val","exec","type","unique","method","options","cm","innerCode","cacheUniques","timestamp","Date","now","num","str","ret","parseInt","substr","toString","hex","charAt","Math","random","cacheOnces","once","millis","nMillis","$beginUpperCase","Setting","tinymce","tinyMCE","util","Tools","getEventDispatcher","_eventDispatcher","availableField","dom","$","getBody","timer","setInterval","settings","destroy","clearInterval","changeEvents","edr","bindings","removed","binding","test","preventDefault","notificationManager","open","text","setTimeout","getNode","localField","find","editLineTable","now_event_wait","command","fire","windowManager","args","params","console","log","hasPlugin","isTableLine","list","querySelectorAll","hasAttribute","overwiteContextToolbars","oldCb","ui","registry","addToggleButton","icon","tooltip","onAction","makeFieldDialog","onSetup","api","currNode","setDisabled","isField","children","classList","contains","hapi","delClass","addClass","fields","hidden","editable","rapi","addContextToolbar","predicate","items","position","scope","cachedElement","pannelArgs","size","body","label","buttons","primary","onSubmit","getData","setAttribute","readonly","nobor","close","_","innerText","category","getAttribute","el","nodeName","forEach","it","remove","add","getAll","contextToolbars","StyleUtils","editorManager","printMode","default","DOMUtils","blocks","DOM","formData","cacheFields","concat","each","parse","opt","format","optionString","JSON","stringify","replace","input","parentElement","parentNode","replaceChild","table","querySelector","tr","div","innerHTML","gbtm","btm1","btm2","appendChild","mtds","evt","evts","objEach","ev","convString","conv","join","obj","cache","includes","url","mixins","props","prop","mdata","watch","immediate","handler","$nextTick","child","$el","border","styles","margin","inputMaker","render","display","$blur","$listeners","blur","textareaMaker","split","selectMaker","dateMaker","dialogMaker","alert","Fn","cb","old","g_syncLoading","self","g_activeEditor","g_hasKey","Vue","productionTip","use","Antd","h","App","$mount"],"mappings":"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","file":"js/app.1290b445.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/editjs/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&lang=scss&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.ready)?_c('Editjs',{attrs:{\"data\":_vm.mock,\"content\":_vm.context,\"events\":_vm.events},on:{\"save\":_vm.save}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-spin',{staticClass:\"editjs\",attrs:{\"spinning\":_vm.loading,\"tip\":\"Loading...\"}},[_c('a-tabs',{staticStyle:{\"height\":\"100%\"},attrs:{\"size\":\"small\",\"tabBarGutter\":10,\"tabBarExtraContent\":_vm.createTabToolbar,\"tabBarStyle\":{padding: '0 10px'}},model:{value:(_vm.akey),callback:function ($$v) {_vm.akey=$$v},expression:\"akey\"}},[_c('div',{attrs:{\"slot\":\"toolbar\"},slot:\"toolbar\"},[_vm._v(\"123\")]),_c('a-tab-pane',{key:\"tab-1\",attrs:{\"tab\":\"设计器\"}},[_c('a-layout',[_c('a-layout-sider',{ref:\"leftPanel\",attrs:{\"width\":260}},[_c('a-collapse',{attrs:{\"defaultActiveKey\":\"2\",\"accordion\":true,\"expand-icon-position\":\"left\",\"bordered\":false}},[_c('a-collapse-panel',{key:\"1\",attrs:{\"header\":\"组件库\",\"forceRender\":\"\"}},[_c('p',{style:({height: _vm.height - 116 + 'px', overflow: 'auto'})},[_vm._v(\"collapse demo\")]),_c('a-icon',{attrs:{\"slot\":\"extra\",\"type\":\"setting\"},slot:\"extra\"})],1),_c('a-collapse-panel',{key:\"2\",attrs:{\"header\":\"数据源\"}},[_c('a-tree',{style:({height: _vm.height - 102 + 'px', overflow: 'auto'}),attrs:{\"blockNode\":\"\",\"show-line\":true,\"show-icon\":true,\"default-expanded-keys\":['main']}},[_c('a-tree-node',{key:\"main\",attrs:{\"selectable\":false,\"title\":\"主表\"}},_vm._l((_vm.data.main.fields),function(f,idx){return _c('a-tree-node',{key:'field-' + idx,attrs:{\"disabled\":f.disabled,\"selectable\":false,\"title\":f.comment + '/' + f.name.toUpperCase()},nativeOn:{\"dblclick\":function($event){return _vm.insertField(1, f)}}})}),1),_c('a-tree-node',{key:\"lines\",attrs:{\"selectable\":false,\"title\":\"明细表\"}},_vm._l((_vm.data.lines),function(t,idx){return _c('a-tree-node',{key:'lines-' + idx,attrs:{\"disabled\":t.disabled,\"selectable\":false,\"title\":t.table_comment + '/' + t.table_name.toUpperCase()},nativeOn:{\"dblclick\":function($event){return _vm.insertField(0, t)}}})}),1)],1),_c('a-icon',{attrs:{\"slot\":\"extra\",\"type\":\"setting\"},slot:\"extra\"})],1)],1)],1),_c('a-layout-content',[_c('Tinymce',{ref:\"tmceInstance\",attrs:{\"lang\":\"zh_CN\",\"config\":_vm.config,\"field-info\":Object.assign({}, _vm.data.main, {lines: _vm.data.lines}),\"value\":_vm.content},on:{\"preview\":_vm.preview,\"init-event\":function($event){_vm.loading = false}}})],1)],1)],1),_c('a-tab-pane',{key:\"tab-2\",attrs:{\"tab\":\"表单设置\"}},[_c('FormSetting',{attrs:{\"data\":_vm.data}})],1),_c('a-tab-pane',{key:\"tab-3\",attrs:{\"tab\":\"行为设置\"}},[_c('BehaviorSetting',{attrs:{\"events\":_vm.events,\"field-data\":_vm.data}})],1),_vm._l((_vm.tabs),function(title,idx){return _c('a-tab-pane',{key:'tab-' + (4 + idx)},[_c('span',{attrs:{\"slot\":\"tab\"},slot:\"tab\"},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_vm._v(_vm._s(title))]),_c('a-icon',{staticClass:\"tab-close\",staticStyle:{\"margin-right\":\"0\"},attrs:{\"type\":\"close\"},on:{\"click\":function($event){return _vm.closeTab(idx)}}})],1),_c('EditLine',{ref:'editLine' + (4 + idx),refInFor:true,attrs:{\"plugins\":_vm.plugins,\"data\":{main: _vm.editLines[idx]},\"actTab\":_vm.akey,\"tabIndex\":'tab-' + (4 + idx)},on:{\"init-event\":function($event){_vm.loading = false}}})],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{attrs:{\"hidden\":\"\",\"id\":_vm.tinymceId},domProps:{\"textContent\":_vm._s(_vm.value)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function(vm) {\r\n    return {\r\n        selector: '#' + vm.tinymceId,\r\n        language: vm.lang,\r\n        skin: 'oxide-x',\r\n        height: '100%',\r\n        menubar: false,\r\n        toolbar_sticky: false,\r\n        plugins: 'print preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking toc insertdatetime advlist lists imagetools textpattern noneditable help charmap quickbars emoticons',\r\n        toolbar: 'fieldreadonly undo redo | fullscreen  preview code | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | table | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | insertfile image media template link codesample | visualblocks ltr rtl',\r\n        content_style: `\r\n            body { font-family:Helvetica,Arial,sans-serif; font-size:14px; padding: 5px } \r\n            .mce-content-body [contentEditable=false][data-mce-selected] { outline: 2px solid #b4d7ff; cursor: default }\r\n            .mce-visualblocks { min-width: calc(100% - 32px); width: fit-content }\r\n            .mce-field { display: inline-block; min-height: 20px; border: 1px solid grey; font-size: 12px; position: relative;\r\n                line-height: 20px; padding: 0 2px; margin: 0 1px 0 2px; -webkit-user-select:none; -moz-user-select:none;  -ms-user-select:none; user-select:none;\r\n                color: #666666; font-weight: bold;\r\n            }\r\n            .mce-field > i {\r\n                background-color: white;position: absolute; right: 0px; padding: 0 5px;\r\n            }\r\n            .mce-field[mce-nobor=\"true\"] {\r\n                border: 1px dashed\r\n            }\r\n            .mce-table-line { position: relative; display: block; padding-top: 10px; border: 1px dashed #bbb; min-height: 20px; margin: 2px }\r\n            .mce-table-line::before { content: attr(title); position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 10; font-size: 10px; color: #666666 }\r\n            .line_field { position: relative }\r\n        `,\r\n        content_css: ['https://cdn.jsdelivr.net/gh/medlar01/tinymce-cdn@5.9.2.4/icons/iconfont/iconfont.css'],\r\n        extended_valid_elements: 'i[class],span[id|class|style|mce-nobor],td[*]',\r\n        table_clone_elements: 'strong em b i font h1 h2 h3 h4 h5 h6 p div',\r\n        table_sizing_mode: 'fixed',\r\n        table_default_styles: {\r\n            width: '100%'\r\n        },\r\n        noneditable_noneditable_class: 'unedit',\r\n        quickbars_insert_toolbar: false,\r\n        toolbar_mode: 'sliding',\r\n        force_br_newlines: false,\r\n        force_p_newlines: false,\r\n        draggable_modal: true,\r\n        forced_root_block: vm.block,\r\n        visualblocks_default_state: true,\r\n        resize: false,\r\n        init_instance_callback(editor) {\r\n            vm.$emit('init-event', editor);\r\n        }\r\n    }\r\n}\r\n\r\nexport const constTableTpl = `\r\n<table class=\"line_field\" style=\"width: 939.016px; background-color: white\" border=\"1\">\r\n<thead>\r\n<tr style=\"text-align: center;\">\r\n<td v-show=\"!printMode\" class=\"checkbox\" style=\"width: 20px\" scope=\"col\">//</td>\r\n<td style=\"width: 220.719px;\" scope=\"col\">&nbsp;</td>\r\n<td style=\"width: 220.719px;\" scope=\"col\">&nbsp;</td>\r\n<td style=\"width: 220.719px;\" scope=\"col\">&nbsp;</td>\r\n<td style=\"width: 220.734px;\" scope=\"col\">&nbsp;</td>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"line_field_row\">\r\n<td v-show=\"!printMode\" class=\"checkbox\" style=\"width: 20px;\"><input type=\"checkbox\"/></td>\r\n<td style=\"width: 220.719px;\">&nbsp;</td>\r\n<td style=\"width: 220.719px;\">&nbsp;</td>\r\n<td style=\"width: 220.719px;\">&nbsp;</td>\r\n<td style=\"width: 220.734px;\">&nbsp;</td>\r\n</tr>\r\n</tbody>\r\n<tfoot>\r\n<tr style=\"background-color: #ecf0f1;\">\r\n<td v-show=\"!printMode\" class=\"checkbox\" style=\"width: 20px\">&nbsp;</td>\r\n<td style=\"width: 220.719px;\">&nbsp;</td>\r\n<td style=\"width: 220.719px;\">&nbsp;</td>\r\n<td style=\"width: 220.719px;\">&nbsp;</td>\r\n<td style=\"width: 220.734px;\">&nbsp;</td>\r\n</tr>\r\n</tfoot>\r\n</table>\r\n`","export default {\r\n    methods: {\r\n        getEditor() {\r\n            return this.editor;\r\n        },\r\n\r\n        getSelection() {\r\n            return this.editor.selection;\r\n        },\r\n\r\n        insertElement(target) {\r\n            const selection = this.getSelection();\r\n            selection.setNode(target);\r\n        },\r\n\r\n        insertContent(content) {\r\n            this.getEditor()\r\n                .execCommand('mceInsertContent', false, content);\r\n        },\r\n\r\n        focus() {\r\n            this.getEditor()\r\n                .focus();\r\n        },\r\n\r\n        getContent() {\r\n            return this.getEditor()\r\n                .getContent();\r\n        },\r\n\r\n        setContent(ctx) {\r\n            this.getEditor()\r\n                .setContent(ctx);\r\n        },\r\n    }\r\n}","<template>\r\n    <textarea hidden :id=\"tinymceId\" v-text=\"value\" />\r\n</template>\r\n\r\n<script>\r\nimport initMethod from './config'\r\nimport mixins from './mixins'\r\nconst _tinymce = () => window['tinyMCE'];\r\nexport default {\r\n    props: {\r\n        block: {\r\n            type: String,\r\n            default: 'div'\r\n        },\r\n        tinymceId: {\r\n            type: String,\r\n            default() {\r\n                return 'vue-tinymce-' + Date.now() + ((Math.random() * 1000).toFixed(0) + '');\r\n            }\r\n        },\r\n        lang: String,\r\n        config: {\r\n            type: Object,\r\n            default() {\r\n                return {};\r\n            }\r\n        },\r\n        value: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        plugins: {\r\n            type: Array,\r\n            default() {\r\n                return []\r\n            }\r\n        },\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            editor: null,\r\n            ctx: '',\r\n        }\r\n    },\r\n    mixins: [mixins],\r\n    created() {\r\n        _load('https://cdn.jsdelivr.net/gh/medlar01/tinymce-cdn@5.9.2.4/tinymce.js',\r\n            (err) => {\r\n                if (err) throw err;\r\n                if (_tinymce().get(this.tinymceId)) {\r\n                    this.destroy();\r\n                }\r\n                this.load();\r\n            });\r\n    },\r\n\r\n    methods: {\r\n        load() {\r\n            const config = Object.assign(initMethod(this), this.config);\r\n            _tinymce().init(config).then((args) => {\r\n                this.editor = args[0];\r\n                _tinymce().setActive(args[0]);\r\n            });\r\n        },\r\n\r\n        reload() {\r\n            this.distory();\r\n            this.load();\r\n        },\r\n\r\n        distory() {\r\n            (_tinymce().get(this.tinymceId) || this.editor).destroy();\r\n            this.editor.settings.destroy = true;\r\n        },\r\n    }\r\n}\r\n\r\nfunction _load(link, callback = function() { }) {\r\n    const id = '#vue-tinymce-5_9_2'\r\n    let script = document.getElementById('#' + id);\r\n    if (!script) {\r\n        script = document.createElement('script');\r\n        script.id = id;\r\n        script.src = link;\r\n        document.body.appendChild(script);\r\n    }\r\n    ('onload' in script ? stdOnEnd : ieOnEnd)()\r\n\r\n    function stdOnEnd() {\r\n        script.onload = function () {\r\n            this.onerror = this.onload = null\r\n            callback(null)\r\n        }\r\n        script.onerror = function () {\r\n            this.onerror = this.onload = null\r\n            callback(new Error('Failed to load ' + link))\r\n        }\r\n    }\r\n\r\n    function ieOnEnd() {\r\n        script.onreadystatechange = function () {\r\n            if (this.readyState !== 'complete' && this.readyState !== 'loaded') return\r\n            this.onreadystatechange = null\r\n            callback(null)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tinymce.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tinymce.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tinymce.vue?vue&type=template&id=1dc1f646&\"\nimport script from \"./Tinymce.vue?vue&type=script&lang=js&\"\nexport * from \"./Tinymce.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-layout',[_c('a-layout-sider',{ref:\"leftPanel\",attrs:{\"width\":260}},[_c('a-collapse',{attrs:{\"defaultActiveKey\":\"2\",\"accordion\":true,\"expand-icon-position\":\"left\",\"bordered\":false}},[_c('a-collapse-panel',{key:\"1\",attrs:{\"header\":\"组件库\",\"forceRender\":\"\"}},[_c('p',{style:({height: _vm.height - 116 + 'px', overflow: 'auto'})},[_vm._v(\"collapse demo\")]),_c('a-icon',{attrs:{\"slot\":\"extra\",\"type\":\"setting\"},slot:\"extra\"})],1),_c('a-collapse-panel',{key:\"2\",attrs:{\"header\":\"数据源\"}},[_c('a-tree',{style:({height: _vm.height - 102 + 'px', overflow: 'auto'}),attrs:{\"blockNode\":\"\",\"show-line\":true,\"show-icon\":true,\"default-expanded-keys\":['main']}},[_c('a-tree-node',{key:\"main\",attrs:{\"selectable\":false,\"title\":\"主表\"}},_vm._l((_vm.data.main.fields),function(f,idx){return _c('a-tree-node',{key:'field-' + idx,attrs:{\"disabled\":f.disabled,\"selectable\":false,\"title\":f.comment + '/' + f.name.toUpperCase()},nativeOn:{\"dblclick\":function($event){return _vm.insertField(f)}}})}),1)],1),_c('a-icon',{attrs:{\"slot\":\"extra\",\"type\":\"setting\"},slot:\"extra\"})],1)],1)],1),_c('a-layout-content',[_c('Tinymce',{ref:\"tmceInstance\",attrs:{\"lang\":\"zh_CN\",\"config\":_vm.config,\"plugins\":_vm.plugins,\"field-info\":_vm.data,\"is-line\":\"\",\"value\":_vm.value},on:{\"init-event\":function($event){return _vm.$emit('init-event')}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <a-layout>\r\n        <a-layout-sider :width=\"260\" ref=\"leftPanel\">\r\n            <a-collapse defaultActiveKey=\"2\" :accordion=\"true\" expand-icon-position=\"left\" :bordered=\"false\">\r\n                <a-collapse-panel key=\"1\" header=\"组件库\" forceRender>\r\n                    <p :style=\"{height: height - 116 + 'px', overflow: 'auto'}\">collapse demo</p>\r\n                    <a-icon slot=\"extra\" type=\"setting\" />\r\n                </a-collapse-panel>\r\n                <a-collapse-panel key=\"2\" header=\"数据源\">\r\n                    <a-tree blockNode :style=\"{height: height - 102 + 'px', overflow: 'auto'}\" :show-line=\"true\" :show-icon=\"true\" :default-expanded-keys=\"['main']\">\r\n                        <a-tree-node :selectable=\"false\" key=\"main\" title=\"主表\">\r\n                            <a-tree-node :disabled=\"f.disabled\" v-for=\"(f, idx) in data.main.fields\" :selectable=\"false\" :key=\"'field-' + idx\" :title=\"f.comment + '/' + f.name.toUpperCase()\" @dblclick.native=\"insertField(f)\" />\r\n                        </a-tree-node>\r\n                    </a-tree>\r\n                    <a-icon slot=\"extra\" type=\"setting\" />\r\n                </a-collapse-panel>\r\n            </a-collapse>\r\n        </a-layout-sider>\r\n        <a-layout-content>\r\n            <Tinymce lang=\"zh_CN\" ref=\"tmceInstance\" :config=\"config\" :plugins=\"plugins\" :field-info=\"data\" @init-event=\"$emit('init-event')\" is-line :value=\"value\" />\r\n        </a-layout-content>\r\n    </a-layout>\r\n</template>\r\n\r\n<script>\r\nimport Tinymce from './Tinymce.vue'\r\nimport ErdMaker from 'element-resize-detector'\r\n\r\nexport default {\r\n    components: {\r\n        Tinymce\r\n    },\r\n\r\n    props: {\r\n        data: {\r\n            type: Object,\r\n            default() {\r\n                return {}\r\n            }\r\n        },\r\n        plugins: {\r\n            type: Array,\r\n            default() {\r\n                return []\r\n            }\r\n        },\r\n        actTab: [String, Number],\r\n        tabIndex: [String, Number]\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            height: 0,\r\n            value: '',\r\n            config: {}\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        'actTab': function (n, o) {\r\n            if (n != o && n == this.tabIndex) {\r\n                this.$refs.tmceInstance.reload();\r\n            }\r\n        }\r\n    },\r\n\r\n    created() {\r\n        const vm = this;\r\n        this.config['setup'] = function(editor) {\r\n            const plugins = [...vm.plugins, g_plugin];\r\n            for (let index = 0; index < plugins.length; index++) {\r\n                const plugin = plugins[index];\r\n                plugin(vm, editor);\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        const self = this;\r\n        ErdMaker().listenTo(this.$refs.leftPanel.$el, function (element) {\r\n            self.height = element.offsetHeight;\r\n        })\r\n    },\r\n\r\n    methods: {\r\n        insertField(metadata) {\r\n            if (metadata.disabled) return;\r\n            const { tmceInstance } = this.$refs;\r\n            const selection = tmceInstance.getSelection();\r\n            const element = selection.getNode();\r\n            if (element.nodeName != 'TD') {\r\n                const edi = tmceInstance.getEditor();\r\n                edi.notificationManager.open({text: '请在表格第' + g_findFieldRow(element) + '行内插入数据键', type: 'error'});\r\n                return;\r\n            }\r\n            const parent = element.parentElement || element.parentNode;\r\n            if (!(parent && parent.classList.contains('line_field_row'))) {\r\n                const edi = tmceInstance.getEditor();\r\n                edi.notificationManager.open({text: '请在表格第' + g_findFieldRow(element) + '行内插入数据键', type: 'error'});\r\n                return;\r\n            }\r\n            const { DOM } = g_resolve('tinymce.dom.DOMUtils');\r\n            const args = { class: 'unedit mce-field tl', id: metadata.id, style: 'width: 200px' };\r\n            if (metadata.noBorder) args['border'] = '1px dashed';\r\n            const htmlField = DOM.create('span', args, metadata.comment + '/' + metadata.name.toUpperCase() + '<i class=\"iconfont iconedit\"/>');\r\n            tmceInstance.insertElement(htmlField);\r\n            metadata.disabled = true;\r\n            tmceInstance.focus();\r\n        },\r\n\r\n        setContent(ctx) {\r\n            const { tmceInstance } = this.$refs;\r\n            tmceInstance.setContent(ctx);\r\n        },\r\n\r\n        save() {\r\n            const { tmceInstance } = this.$refs;\r\n            return {\r\n                metadata: this.data.main,\r\n                ctx: tmceInstance.getContent()\r\n            };\r\n        },\r\n        \r\n        distory() {\r\n            const { tmceInstance } = this.$refs;\r\n            tmceInstance.distory();\r\n        },\r\n    }\r\n}\r\n\r\nfunction g_resolve(ctx, editor) {\r\n    return window['tinyMCE'].resolve(ctx, editor);\r\n}\r\n\r\nfunction findParent(element, name) {\r\n    if (element && element.nodeName == name) {\r\n        return element;\r\n    }\r\n    while (element != null && element.nodeName != name && element.nodeName != 'BODY') {\r\n        element = element.parentElement || element.parentNode;\r\n    }\r\n    return element ? element.nodeName == name ? element : null : null;\r\n}\r\n\r\nfunction g_findFieldRow(element) {\r\n    element = findParent(element, 'TABLE');\r\n    let row = 0;\r\n    if (!element) {\r\n        return -1;\r\n    }\r\n    const trs = element.querySelectorAll('tr');\r\n    for (const key in trs) {\r\n        const tr = trs[key];\r\n        row ++;\r\n        if (tr.classList && tr.classList.contains('line_field_row')) {\r\n            return row;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\nfunction g_plugin(vm, editor) {\r\n    editor.on('load', function() {\r\n        if (editor.hasPlugin('table')) {\r\n            const cached = g_regConfig(editor);\r\n            const keys = ['tabledeleterow', 'tablecutrow', 'tablecopyrow'];\r\n            g_rewriteMenuItem(cached.menuItems, keys, function(overwrite, api) {\r\n                const { tmceInstance } = vm.$refs;\r\n                const selection = tmceInstance.getSelection();\r\n                let element = selection.getNode();\r\n                element = findParent(element, 'TD');\r\n                if (!element) {\r\n                    overwrite(api);\r\n                    return;\r\n                }\r\n                if (element.hasAttribute('data-mce-selected')) {\r\n                    api.setDisabled(true);\r\n                    return;\r\n                }\r\n                const parent = element.parentElement || element.parentNode;\r\n                if (!(parent && parent.classList.contains('line_field_row'))) {\r\n                    overwrite(api);\r\n                    return;\r\n                }\r\n                api.setDisabled(true);\r\n            });\r\n        }\r\n    });\r\n\r\n    function changeEvents(edr, bindings, removed) {\r\n        for (let index = 0; index < bindings.length; index++) {\r\n            const binding = bindings[index];\r\n            const events = edr.bindings[binding];\r\n\r\n            for (let index = 0; index < events.length; index++) {\r\n                const event = events[index];\r\n                event.removed = removed;\r\n            }\r\n        }\r\n    }\r\n\r\n    editor.on('ObjectSelected', function() {\r\n        setTimeout(function() {\r\n            const node = editor.selection.getNode();\r\n            const removed = containClass(node, 'mce-field');\r\n            changeEvents(editor.getEventDispatcher(), ['mousemove'], removed);\r\n        });\r\n    });\r\n}\r\n\r\nfunction g_regConfig(edi) {\r\n    return edi.ui.registry.getAll();\r\n}\r\n\r\nfunction g_rewriteMenuItem(menuItems, keys, callback) {\r\n    if (keys && typeof keys == 'string') {\r\n        keys = [keys];\r\n    }\r\n    keys.map(key => {\r\n        if (menuItems[key]) {\r\n            const overwrite = menuItems[key].onSetup;\r\n            menuItems[key].onSetup = function(api) {\r\n                callback(overwrite, api);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction containClass(node, clazz) {\r\n    return (node&& node.classList && node.classList.contains(clazz));\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditLine.vue?vue&type=template&id=4aa1befb&\"\nimport script from \"./EditLine.vue?vue&type=script&lang=js&\"\nexport * from \"./EditLine.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-layout',{staticClass:\"form-setting\"},[_c('a-layout-sider',{attrs:{\"width\":260}},[_c('a-menu',{attrs:{\"mode\":\"inline\",\"default-selected-keys\":['main']},on:{\"select\":_vm.onSelectMenu}},[_c('a-menu-item',{key:\"dialog\",attrs:{\"title\":\"弹窗选项设置\"}},[_c('a-icon',{attrs:{\"type\":\"windows\"}}),_vm._v(\" 弹窗选项设置 \")],1),_c('a-menu-item',{key:\"main\",attrs:{\"title\":'主表：' + _vm.data.main.table_comment}},[_c('a-icon',{attrs:{\"type\":\"desktop\"}}),_vm._v(\" 主表：\"+_vm._s(_vm.data.main.table_comment)+\" \")],1),_vm._l(((_vm.data.lines||[])),function(t,idx){return _c('a-menu-item',{key:'line-' + (idx + 1),attrs:{\"title\":'明细表：' + t.table_comment}},[_c('a-icon',{attrs:{\"type\":\"tag\"}}),_vm._v(\" 明细表：\"+_vm._s(t.table_comment)+\" \")],1)})],2)],1),_c('a-layout-content',[_c('a-spin',{staticStyle:{\"height\":\"100%\"},attrs:{\"spinning\":_vm.loading,\"tip\":\"Loading...\"}},[_c('a-table',{attrs:{\"rowKey\":\"id\",\"size\":\"middle\",\"pagination\":false,\"columns\":_vm.columns,\"data-source\":_vm.tableData}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <a-layout class=\"form-setting\">\r\n        <a-layout-sider :width=\"260\">\r\n            <a-menu @select=\"onSelectMenu\" mode=\"inline\" :default-selected-keys=\"['main']\">\r\n                <a-menu-item key=\"dialog\" title=\"弹窗选项设置\">\r\n                    <a-icon type=\"windows\" />\r\n                    弹窗选项设置\r\n                </a-menu-item>\r\n                <a-menu-item key=\"main\" :title=\"'主表：' + data.main.table_comment\">\r\n                    <a-icon type=\"desktop\" />\r\n                    主表：{{data.main.table_comment}}\r\n                </a-menu-item>\r\n                <a-menu-item v-for=\"(t, idx) in (data.lines||[])\" :key=\"'line-' + (idx + 1)\" :title=\"'明细表：' + t.table_comment\">\r\n                    <a-icon type=\"tag\" />\r\n                    明细表：{{t.table_comment}}\r\n                </a-menu-item>\r\n            </a-menu>\r\n        </a-layout-sider>\r\n        <a-layout-content>\r\n            <a-spin style=\"height: 100%\" :spinning=\"loading\" tip=\"Loading...\">\r\n                <a-table rowKey=\"id\" size=\"middle\" :pagination=\"false\" :columns=\"columns\" :data-source=\"tableData\">\r\n                </a-table>\r\n            </a-spin>\r\n        </a-layout-content>\r\n    </a-layout>\r\n</template>\r\n\r\n<script>\r\nconst nameMaps = { input: '文本', textarea: '文本域', number: '数值', date: '日期', select: '下拉', dialog: '弹窗' };\r\nconst EditableCell = {\r\n    render() {\r\n        return this.edit ? \r\n            (<div class=\"cell-wrapper\">\r\n                <a-select default-value={this.value} style=\"width: calc(100% - 30px)\" size=\"small\" onChange={(val) => this.val = val}>\r\n                    {Object.keys(nameMaps).map((n) => (<a-select-option value={n}>{nameMaps[n]}</a-select-option>))}\r\n                </a-select>\r\n                <a-icon type=\"check\" class=\"check-icon\" onClick={() => {\r\n                    this.$emit('edit', this.val);\r\n                    this.edit = false;\r\n                }} />\r\n            </div>) :\r\n            (<div class=\"cell-wrapper\">\r\n                {nameMaps[this.value]}\r\n                <a-icon type=\"edit\" class=\"edit-icon\" onClick={() => {\r\n                    this.edit = true;\r\n                    this.val = this.value;\r\n                }} />\r\n            </div>);\r\n    },\r\n    props: {\r\n        value: String\r\n    },\r\n    data() {\r\n        return {\r\n            val: '',\r\n            edit: false\r\n        }\r\n    }\r\n};\r\n\r\nconst EditCell = {\r\n    props: ['row'],\r\n    render() {\r\n        console.log('EditCell.row', this.row);\r\n        let slot = null;\r\n        switch(this.row.category) {\r\n            case \"date\": {\r\n                slot = (<a-input size=\"small\" style=\"width: 200px\" v-model={this.row.format} placeholder=\"请输入日期格式\"/>);\r\n                break;\r\n            }\r\n            case \"select\": {\r\n                slot = (<a-input size=\"small\" style=\"width: 200px\" v-model={this.row.options} placeholder=\"请输入选项，使用【,】分割\"/>);\r\n            }\r\n        }\r\n        return (<div>{slot}</div>);\r\n    }\r\n}\r\n\r\nexport default {\r\n    props: {\r\n        data: {\r\n            type: Object,\r\n            default() {\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            columns: [\r\n                {\r\n                    width: 260,\r\n                    title: '键名',\r\n                    dataIndex: 'name',\r\n                    customRender: name => {\r\n                        return (<span>{name?.toUpperCase()}</span>);\r\n                    }\r\n                },\r\n                {\r\n                    width: 280,\r\n                    key: 'comment',\r\n                    title: '描述',\r\n                    dataIndex: 'comment'\r\n                },\r\n                {\r\n                    width: 150,\r\n                    title: '是否主键',\r\n                    dataIndex: 'pk',\r\n                    customRender: pk => {\r\n                        return (<span>{pk ? '是（Y）': '否（N）'}</span>);\r\n                    }\r\n                },\r\n                {\r\n                    width: 120,\r\n                    key: 'category',\r\n                    title: '表单类别',\r\n                    dataIndex: 'category',\r\n                    customRender: (val, row) => {\r\n                        return (<EditableCell value={val} onEdit={(value) =>  row.category = value} />);\r\n                    }\r\n                }, {\r\n                    key: '-',\r\n                    title: '其他',\r\n                    dataIndex: '-',\r\n                    customRender: (val, row) => {\r\n                        return (<EditCell row={row} />);\r\n                    }\r\n                }\r\n            ],\r\n            tableData: {}\r\n        }\r\n    },\r\n\r\n    created() {\r\n        this.tableData = this.data.main.fields;\r\n    },\r\n\r\n    methods: {\r\n        onSelectMenu({item, key}) {\r\n            this.loading = true;\r\n            setTimeout(() => {\r\n                if (key == 'main') {\r\n                    this.tableData = this.data.main.fields;\r\n                } else if (key == 'dialog') {\r\n                    alert('该功能暂未实现~')\r\n                } else {\r\n                    const split = key.split('-');\r\n                    const index = parseInt(split[1]) - 1;\r\n                    this.tableData = this.data.lines[index].fields;\r\n                }\r\n                this.loading = false;\r\n            }, 500);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.form-setting {\r\n    .cell-wrapper > .check-icon {\r\n        float: right;\r\n        margin-top: 4px;\r\n        color: #1890ff;\r\n    }\r\n    .cell-wrapper > .edit-icon {\r\n        float: right;\r\n        display: none;\r\n        margin-top: 3px;\r\n        color: #979797;\r\n    }\r\n    .cell-wrapper:hover > .edit-icon {\r\n        display: unset;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormSetting.vue?vue&type=template&id=19568867&\"\nimport script from \"./FormSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./FormSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormSetting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-layout',{staticClass:\"behavior-setting\"},[_c('a-layout-sider',{attrs:{\"width\":260}},[_c('a-menu',{attrs:{\"mode\":\"inline\",\"default-selected-keys\":[0]},on:{\"select\":_vm.onSelectMenu}},_vm._l((_vm.events),function(event,index){return _c('a-menu-item',{key:index,attrs:{\"title\":event.field.comment}},[_c('a-icon',{attrs:{\"type\":\"tags\"}}),_c('span',{staticClass:\"nav-text\"},[_vm._v(_vm._s(event.field.comment))])],1)}),1),_c('div',{staticClass:\"toolbar\"},[_c('a-button',{attrs:{\"type\":\"dashed\",\"shape\":\"round\",\"size\":\"small\",\"icon\":\"edit\"},on:{\"click\":function($event){_vm.fieldVisible = true}}},[_vm._v(\" 新增行为 \")])],1)],1),_c('a-layout-content',{staticStyle:{\"padding\":\"20px\"}},[_vm._l((_vm.currEvent.events),function(item,key){return _c('a-card',{key:key,staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"title\":'事件：' + key,\"size\":\"small\",\"type\":\"inner\"}},[_c('a',{attrs:{\"slot\":\"extra\",\"href\":\"#\"},on:{\"click\":function($event){return _vm.$delete(_vm.currEvent.events, key)}},slot:\"extra\"},[_c('a-icon',{attrs:{\"type\":\"close\"}})],1),(item.bus == 'default')?_c('ConstEvt',{attrs:{\"actions\":item.action,\"field-data\":_vm.fieldData}}):(item.bus == 'script')?_c('ScriptEvt',{attrs:{\"actions\":item.action,\"field-data\":_vm.fieldData}}):_vm._e()],1)}),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a-button',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"dashed\",\"shape\":\"round\",\"size\":\"small\",\"icon\":\"edit\"},on:{\"click\":function($event){_vm.evnetVisible = true}}},[_vm._v(\" 添加事件 \")])],1)],2),_c('FieldModal',{attrs:{\"field-data\":_vm.fieldData},on:{\"ok\":_vm.addFieldEvent},model:{value:(_vm.fieldVisible),callback:function ($$v) {_vm.fieldVisible=$$v},expression:\"fieldVisible\"}}),_c('AddEventDialog',{on:{\"ok\":_vm.addEvent},model:{value:(_vm.evnetVisible),callback:function ($$v) {_vm.evnetVisible=$$v},expression:\"evnetVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"columns\":_vm.columns,\"data-source\":_vm.actions,\"bordered\":\"\",\"rowKey\":\"id\",\"size\":\"middle\",\"pagination\":false}}),_c('a-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"dashed\",\"shape\":\"round\",\"size\":\"small\",\"icon\":\"edit\"},on:{\"click\":function($event){_vm.visible = true}}},[_vm._v(\" 添加 \")]),_c('FieldModal',{attrs:{\"field-data\":_vm.fieldData},on:{\"ok\":function (val) {\n        if (val) {\n            this$1.actions.push({ id: val.id, comment: val.comment + '/' + val.name.toUpperCase(), exec: { type: 'Empty', value: null } });\n        }\n    }},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <a-table :columns=\"columns\" :data-source=\"actions\" bordered rowKey=\"id\" size=\"middle\" :pagination=\"false\" style=\"margin-bottom: 10px\"/>\r\n        <a-button style=\"float: right\" type=\"dashed\" shape=\"round\" size=\"small\" icon=\"edit\" @click=\"visible = true\">\r\n            添加\r\n        </a-button>\r\n        <FieldModal v-model=\"visible\" :field-data=\"fieldData\" @ok=\"(val) => {\r\n            if (val) {\r\n                this.actions.push({ id: val.id, comment: val.comment + '/' + val.name.toUpperCase(), exec: { type: 'Empty', value: null } });\r\n            }\r\n        }\" />\r\n    </div>\r\n</template>\r\n<script>\r\nconst FieldModal = {\r\n    props: {\r\n        visible: Boolean, fieldData: Object,\r\n    },\r\n    data() {\r\n        return {\r\n            vis: false, value: null\r\n        }\r\n    },\r\n    model: {\r\n        prop: 'visible', event: 'change'\r\n    },\r\n    watch: {\r\n        visible(n, o) {\r\n            if (n != o) this.vis = n\r\n        },\r\n        vis(n, o) {\r\n            if (n != o) {\r\n                this.$emit('change', n)\r\n            }\r\n        }\r\n    },\r\n    render() {\r\n        return (\r\n            <a-modal v-model={this.vis} title=\"选择字段\" v-on:ok={() => {\r\n                this.$emit('ok', this.value);\r\n                this.vis = false;\r\n            }}>\r\n                <a-tree blockNode show-line show-icon default-expanded-keys={['main']} onSelect={(keys, info) => {\r\n                    window.console.log('select', keys, info)\r\n                    if (keys.length > 0) {\r\n                        const split = keys[0].split('-');\r\n                        if (split[0] == 'field') {\r\n                            this.value = this.fieldData.main.fields[split[1]];\r\n                        } else {\r\n                            this.value = this.fieldData.lines[split[1]];\r\n                        }\r\n                    }\r\n                }}>\r\n                    <a-tree-node selectable={false} key=\"main\" title=\"主表\">\r\n                        {this.fieldData.main.fields.map((f, idx) => (<a-tree-node key={'field-' + idx} title={f.comment + '/' + f.name.toUpperCase()} />))}\r\n                    </a-tree-node>\r\n                    <a-tree-node selectable={false} key=\"lines\" title=\"明细表\">\r\n                        {this.fieldData.lines.map((t, idx) => (<a-tree-node key={'lines-' + idx} title={t.table_comment + '/' + t.table_name.toUpperCase()} />))}\r\n                    </a-tree-node>\r\n                </a-tree>\r\n            </a-modal>)\r\n    }\r\n}\r\n\r\nexport default {\r\n    components: {FieldModal},\r\n    props: {\r\n        actions: Array,\r\n        fieldData: Object\r\n    },\r\n    data() {\r\n        return {\r\n            visible: false,\r\n            columns: [{\r\n                key: 'comment',\r\n                dataIndex: 'comment',\r\n                title: '执行字段',\r\n                width: 300\r\n            }, {\r\n                key: 'exec',\r\n                dataIndex: 'exec',\r\n                title: '执行动作',\r\n                customRender: (value, row, idx) => {\r\n                    let slot = '';\r\n                    switch(row.exec.type) {\r\n                        case \"const\": {\r\n                            slot = (<a-input size=\"small\" style=\"width: calc(100% - 110px); max-width: 200px\" placeholder=\"请输入默认值\" v-model={row.exec.value} />);\r\n                            break;\r\n                        }\r\n                    }\r\n                    return (\r\n                    <div style=\"min-width: 100px\">\r\n                        <a-select default-value=\"empty\" size=\"small\" style=\"width: 100px; vertical-align: top\" v-model={row.exec.type}\r\n                            onChange={(val) => {\r\n                                row.exec.type = val;\r\n                                if (val != 'const') row.exec.value = null;\r\n                            }}>\r\n                            <a-select-option value=\"empty\"> EMPTY </a-select-option>\r\n                            <a-select-option value=\"const\"> CONST </a-select-option>\r\n                        </a-select>&nbsp;\r\n                        {slot}\r\n                    </div>)\r\n                }\r\n            }, {\r\n                key: '-',\r\n                dataIndex: '-',\r\n                title: '//',\r\n                width: 50,\r\n                align: \"center\",\r\n                customRender: (val, row, idx) => {\r\n                    return (<a-button onClick={() => this.actions.splice(idx, 1)} shape=\"round\" type=\"dashed\" icon=\"delete\" size=\"small\"/>)\r\n                }\r\n            }]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstEvt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstEvt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConstEvt.vue?vue&type=template&id=862dadd2&\"\nimport script from \"./ConstEvt.vue?vue&type=script&lang=js&\"\nexport * from \"./ConstEvt.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"columns\":_vm.columns,\"data-source\":_vm.actions,\"bordered\":\"\",\"rowKey\":\"id\",\"size\":\"middle\",\"pagination\":false}}),_c('a-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"dashed\",\"shape\":\"round\",\"size\":\"small\",\"icon\":\"edit\"},on:{\"click\":function($event){_vm.actions.push({\n        id: _vm.unique(),\n        exec: {\n            type: 'request',\n            method: 'get',\n        }\n    })}}},[_vm._v(\" 添加 \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('codemirror',{staticClass:\"vue-codemirror\",attrs:{\"options\":_vm.options},on:{\"ready\":function (cm) { return this$1.$emit('ready', cm); },\"cursorActivity\":function (cm) { return this$1.$emit('cursorActivity', cm); },\"focus\":function (cm) { return this$1.$emit('focus', cm); },\"blur\":function (cm) { return this$1.$emit('blur', cm); }},model:{value:(_vm.innerCode),callback:function ($$v) {_vm.innerCode=$$v},expression:\"innerCode\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <codemirror class=\"vue-codemirror\"\r\n        v-model=\"innerCode\"\r\n        :options=\"options\"\r\n        @ready=\"(cm) => this.$emit('ready', cm)\"\r\n        @cursorActivity=\"(cm) => this.$emit('cursorActivity', cm)\"\r\n        @focus=\"(cm) => this.$emit('focus', cm)\"\r\n        @blur=\"(cm) => this.$emit('blur', cm)\"\r\n    />\r\n</template>\r\n<script>\r\nimport { codemirror } from \"vue-codemirror\";\r\nimport \"codemirror/lib/codemirror.css\";\r\nimport \"codemirror/theme/monokai.css\";\r\nimport \"codemirror/mode/vue/vue.js\";\r\nimport \"codemirror/addon/selection/active-line.js\";\r\nimport \"codemirror/addon/selection/mark-selection.js\";\r\nimport \"codemirror/addon/search/searchcursor.js\";\r\nimport \"codemirror/addon/scroll/annotatescrollbar.js\";\r\nimport \"codemirror/addon/search/matchesonscrollbar.js\";\r\nimport \"codemirror/addon/search/searchcursor.js\";\r\nimport \"codemirror/addon/search/match-highlighter.js\";\r\nimport \"codemirror/mode/clike/clike.js\";\r\nimport \"codemirror/addon/edit/matchbrackets.js\";\r\nimport \"codemirror/addon/comment/comment.js\";\r\nimport \"codemirror/addon/dialog/dialog.js\";\r\nimport \"codemirror/addon/dialog/dialog.css\";\r\nimport \"codemirror/addon/search/searchcursor.js\";\r\nimport \"codemirror/addon/search/search.js\";\r\nimport \"codemirror/keymap/sublime.js\";\r\nimport \"codemirror/addon/fold/foldgutter.css\";\r\nimport \"codemirror/addon/fold/brace-fold.js\";\r\nimport \"codemirror/addon/fold/comment-fold.js\";\r\nimport \"codemirror/addon/fold/foldcode.js\";\r\nimport \"codemirror/addon/fold/foldgutter.js\";\r\nimport \"codemirror/addon/fold/indent-fold.js\";\r\nimport \"codemirror/addon/fold/markdown-fold.js\";\r\nimport \"codemirror/addon/fold/xml-fold.js\";\r\n\r\nexport default {\r\n    components: {\r\n        codemirror,\r\n    },\r\n    model: {\r\n        prop: \"code\",\r\n        event: \"change\",\r\n    },\r\n    props: {\r\n        code: String,\r\n        options: {\r\n            type: Object,\r\n            default() {\r\n                return {\r\n                    tabSize: 4,\r\n                    foldGutter: true,\r\n                    styleActiveLine: true,\r\n                    lineNumbers: true,\r\n                    line: true,\r\n                    keyMap: \"sublime\",\r\n                    mode: \"text/javascript\",\r\n                    theme: \"monokai\",\r\n                    extraKeys: {\r\n                        F11(cm) {\r\n                            cm.setOption(\r\n                                \"fullScreen\",\r\n                                !cm.getOption(\"fullScreen\")\r\n                            );\r\n                        },\r\n                        Esc(cm) {\r\n                            if (cm.getOption(\"fullScreen\"))\r\n                                cm.setOption(\"fullScreen\", false);\r\n                        },\r\n                    },\r\n                };\r\n            },\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            innerCode: \"\",\r\n        };\r\n    },\r\n    watch: {\r\n        code: {\r\n            handler(n, o) {\r\n                this.innerCode = n;\r\n            },\r\n            immediate: true,\r\n        },\r\n        innerCode(n, o) {\r\n            this.$emit(\"change\", n);\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style>\r\n.vue-codemirror > .CodeMirror {\r\n    font-family: \"Courier New\";\r\n    font-size: 12px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueCodemirror.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueCodemirror.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueCodemirror.vue?vue&type=template&id=bbe9abca&\"\nimport script from \"./VueCodemirror.vue?vue&type=script&lang=js&\"\nexport * from \"./VueCodemirror.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VueCodemirror.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function objEach(obj, callback) {\r\n    Object.keys(obj).forEach(i => callback(obj[i], i));\r\n}\r\n\r\nexport function hasKey(obj, key) {\r\n    return Object.keys(obj).includes(key);\r\n}\r\n\r\nconst cacheUniques = [-1, 0];\r\n/**\r\n * 使用日期生成唯一值\r\n * @returns 字符串\r\n */\r\n export function unique() {\r\n    const timestamp = Date.now();\r\n    const num = cacheUniques[0] === timestamp ? (cacheUniques[1] += 1) : (cacheUniques[1] = 0);\r\n    cacheUniques[0] = timestamp;\r\n    let str = timestamp + \"\" + num;\r\n    let index = 0;\r\n    let ret = \"\";\r\n    while (index < str.length) {\r\n        ret += parseInt(str.substr(index, 4)).toString(32);\r\n        index += 4;\r\n    }\r\n    const hex = 'abcdefghijklmnopqrstuvwxyz';\r\n    return hex.charAt(Math.random() * 25) + ret;\r\n}\r\n\r\nconst cacheLimits = {};\r\n// 限流，只执行最后一次的请求\r\nexport function limit(key, millis, callback) {\r\n    if (!cacheLimits[key]) {\r\n        cacheLimits[key] = {\r\n            timer: setTimeout(callback, millis),\r\n            millis: Date.now()\r\n        };\r\n        return;\r\n    }\r\n    const nMillis = Date.now();\r\n    if (nMillis - millis < cacheLimits[key].millis) {\r\n        clearTimeout(cacheLimits[key].timer);\r\n    }\r\n    cacheLimits[key] = {\r\n        timer: setTimeout(callback, millis),\r\n        millis: Date.now()\r\n    };\r\n}\r\n\r\nconst cacheOnces = {};\r\n// 限流，只执行第一次\r\nexport function once(key, millis, callback) {\r\n    if (!cacheOnces[key]) {\r\n        cacheOnces[key] = Date.now();\r\n        callback();\r\n        return;\r\n    }\r\n    const nMillis = Date.now();\r\n    if (nMillis - millis >= cacheOnces[key]) {\r\n        callback();\r\n    }\r\n}","<template>\r\n    <div>\r\n        <a-table :columns=\"columns\" :data-source=\"actions\" bordered rowKey=\"id\" size=\"middle\" :pagination=\"false\" style=\"margin-bottom: 10px\"/>\r\n        <a-button style=\"float: right\" type=\"dashed\" shape=\"round\" size=\"small\" icon=\"edit\" @click=\"actions.push({\r\n            id: unique(),\r\n            exec: {\r\n                type: 'request',\r\n                method: 'get',\r\n            }\r\n        })\">\r\n            添加\r\n        </a-button>\r\n    </div>\r\n</template>\r\n<script>\r\nimport VueCodemirror from \"../VueCodemirror.vue\"\r\nimport { unique } from '@/utils/common'\r\nexport default {\r\n    props: {\r\n        actions: Array,\r\n        fieldData: Object\r\n    },\r\n    mixins: [{ methods: { unique } }],\r\n    data() {\r\n        return {\r\n            visible: false,\r\n            columns: [{\r\n                key: 'comment',\r\n                dataIndex: 'comment',\r\n                title: '脚本类型',\r\n                width: 120,\r\n                customCell: () => {\r\n                    return {\r\n                        style: 'vertical-align: top'\r\n                    }\r\n                },\r\n                customRender: (value, row, idx) => {\r\n                    return (\r\n                        <a-select default-value=\"request\" size=\"small\" style=\"width: 100px; vertical-align: top\" v-model={row.exec.type}>\r\n                            <a-select-option value=\"script\"> SCRIPT </a-select-option>\r\n                            <a-select-option value=\"request\"> REQUEST </a-select-option>\r\n                        </a-select>\r\n                    ) \r\n                }\r\n\r\n            }, {\r\n                key: 'exec',\r\n                dataIndex: 'exec',\r\n                title: '执行动作',\r\n                customRender: (value, row, idx) => {\r\n                    let slot = '';\r\n                    switch(row.exec.type) {\r\n                        case \"script\": {\r\n                            slot = (<VueCodemirror v-model={row.exec.value} />);\r\n                            break;\r\n                        }\r\n                        case \"request\": {\r\n                            slot = (<span>\r\n                                <a-select default-value=\"get\" size=\"small\" style=\"width: 100px\" v-model={row.exec.method}\r\n                                    onChange={(val) => {\r\n                                    row.exec.method = val;\r\n                                    if (val != 'const') row.exec.value = null;\r\n                                }}>\r\n                                    <a-select-option value=\"get\"> GET </a-select-option>\r\n                                    <a-select-option value=\"post\"> POST </a-select-option>\r\n                                </a-select>&nbsp;\r\n                                <a-input size=\"small\" placeholder=\"请输入地址\" style=\"width: calc(100% - 105px)\" v-model={row.exec.url} />\r\n                                <br />\r\n                                <br />\r\n                                <VueCodemirror v-model={row.exec.value} />\r\n                            </span>);\r\n                            break;\r\n                        }\r\n                    }\r\n                    return (\r\n                    <div style=\"min-width: 100px\">\r\n                        {slot}\r\n                    </div>)\r\n                }\r\n            }, {\r\n                key: '-',\r\n                dataIndex: '-',\r\n                title: '//',\r\n                width: 50,\r\n                align: \"center\",\r\n                customRender: (val, row, idx) => {\r\n                    return (<a-button onClick={() => this.actions.splice(idx, 1)} shape=\"round\" type=\"dashed\" icon=\"delete\" size=\"small\"/>)\r\n                }\r\n            }]\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScriptEvt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScriptEvt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScriptEvt.vue?vue&type=template&id=0958a7d0&\"\nimport script from \"./ScriptEvt.vue?vue&type=script&lang=js&\"\nexport * from \"./ScriptEvt.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <a-layout class=\"behavior-setting\">\r\n        <a-layout-sider :width=\"260\">\r\n            <a-menu @select=\"onSelectMenu\" mode=\"inline\" :default-selected-keys=\"[0]\">\r\n                <a-menu-item :title=\"event.field.comment\" v-for=\"(event, index) in events\" :key=\"index\">\r\n                    <a-icon type=\"tags\" />\r\n                    <span class=\"nav-text\">{{event.field.comment}}</span>\r\n                </a-menu-item>\r\n            </a-menu>\r\n            <div class=\"toolbar\">\r\n                <a-button type=\"dashed\" shape=\"round\" size=\"small\" icon=\"edit\" @click=\"fieldVisible = true\">\r\n                    新增行为\r\n                </a-button>\r\n            </div>\r\n        </a-layout-sider>\r\n        <a-layout-content style=\"padding: 20px\">\r\n            <a-card v-for=\"(item, key) in currEvent.events\" :title=\"'事件：' + key\" size=\"small\" type=\"inner\" :key=\"key\" style=\"margin-bottom: 10px\">\r\n                <a slot=\"extra\" href=\"#\" @click=\"$delete(currEvent.events, key)\"><a-icon type=\"close\" /></a>\r\n                <ConstEvt v-if=\"item.bus == 'default'\" :actions=\"item.action\" :field-data=\"fieldData\" />\r\n                <ScriptEvt v-else-if=\"item.bus == 'script'\" :actions=\"item.action\" :field-data=\"fieldData\" />\r\n            </a-card>\r\n            <div style=\"text-align: center\">\r\n                <a-button style=\"width: 150px\" type=\"dashed\" shape=\"round\" size=\"small\" icon=\"edit\" @click=\"evnetVisible = true\">\r\n                    添加事件\r\n                </a-button>\r\n            </div>\r\n        </a-layout-content>\r\n        <FieldModal v-model=\"fieldVisible\" :field-data=\"fieldData\" @ok=\"addFieldEvent\" />\r\n        <AddEventDialog v-model=\"evnetVisible\" @ok=\"addEvent\" />\r\n    </a-layout>\r\n</template>\r\n\r\n<script>\r\nimport ConstEvt from './ConstEvt.vue'\r\nimport ScriptEvt from './ScriptEvt.vue'\r\nimport { unique } from '@/utils/common'\r\n\r\nconst AddEventDialog = {\r\n    props: {\r\n        visible: Boolean\r\n    },\r\n    model: {\r\n        event: 'change',\r\n        prop: 'visible'\r\n    },\r\n    data() {\r\n        return {\r\n            innerVisible: false,\r\n            type: 'change',\r\n            bus: 'default'\r\n        }\r\n    },\r\n    watch: {\r\n        visible: {\r\n            handler(n, o) {\r\n                this.innerVisible = n;\r\n            },\r\n            immediate: true\r\n        },\r\n        innerVisible(n, o) {\r\n            this.$emit('change', n);\r\n        }\r\n    },\r\n    render() {\r\n        return (\r\n        <a-modal v-model={this.innerVisible} title=\"添加事件\" onOk={e => {\r\n            this.$emit('ok', {type: this.type, bus: this.bus});\r\n            this.innerVisible = false;\r\n        }}>\r\n            <div>\r\n                事件类型&nbsp;&nbsp;\r\n                <a-select v-model={this.type} placeholder=\"Basic usage\" style=\"width: 200px\">\r\n                    <a-select-option value=\"change\">change</a-select-option>\r\n                    <a-select-option value=\"input\">input</a-select-option>\r\n                    <a-select-option value=\"keyup\">keyup</a-select-option>\r\n                    <a-select-option value=\"blur\">blur</a-select-option>\r\n                </a-select>\r\n            </div>\r\n            <br/>\r\n            <div>\r\n                执行类型&nbsp;&nbsp;\r\n                <a-select v-model={this.bus} placeholder=\"Basic usage\" style=\"width: 200px\">\r\n                    <a-select-option value=\"default\">基础动作</a-select-option>\r\n                    <a-select-option value=\"script\">脚本逻辑</a-select-option>\r\n                </a-select>\r\n            </div>\r\n        </a-modal>);\r\n    }\r\n}\r\n\r\nconst FieldModal = {\r\n    props: {\r\n        visible: Boolean, fieldData: Object,\r\n    },\r\n    data() {\r\n        return {\r\n            vis: false, value: null\r\n        }\r\n    },\r\n    model: {\r\n        prop: 'visible', event: 'change'\r\n    },\r\n    watch: {\r\n        visible(n, o) {\r\n            if (n != o) this.vis = n\r\n        },\r\n        vis(n, o) {\r\n            if (n != o) {\r\n                this.$emit('change', n)\r\n            }\r\n        }\r\n    },\r\n    render() {\r\n        return (\r\n        <a-modal v-model={this.vis} title=\"选择字段\" v-on:ok={() => {\r\n            this.$emit('ok', this.value);\r\n            this.vis = false;\r\n        }}>\r\n            <a-tree blockNode show-line show-icon default-expanded-keys={['main']} onSelect={(keys, info) => {\r\n                window.console.log('select', keys, info)\r\n                if (keys.length > 0) {\r\n                    const split = keys[0].split('-');\r\n                    if (split[0] == 'field') {\r\n                        this.value = this.fieldData.main.fields[split[1]];\r\n                    } else {\r\n                        this.value = this.fieldData.lines[split[1]];\r\n                    }\r\n                }\r\n            }}>\r\n                <a-tree-node selectable={false} key=\"main\" title=\"主表\">\r\n                    {this.fieldData.main.fields.map((f, idx) => (<a-tree-node key={'field-' + idx} title={f.comment + '/' + f.name.toUpperCase()} />))}\r\n                </a-tree-node>\r\n                <a-tree-node selectable={false} key=\"lines\" title=\"明细表\">\r\n                    {this.fieldData.lines.map((t, idx) => (<a-tree-node key={'lines-' + idx} title={t.table_comment + '/' + t.table_name.toUpperCase()} />))}\r\n                </a-tree-node>\r\n            </a-tree>\r\n        </a-modal>)\r\n    }\r\n}\r\n\r\nexport default {\r\n    components: {\r\n        ConstEvt,\r\n        ScriptEvt,\r\n        FieldModal,\r\n        AddEventDialog\r\n    },\r\n    props: {\r\n        events: {\r\n            type: Array,\r\n            default() {\r\n                return []\r\n            }\r\n        },\r\n        fieldData: Object\r\n    },\r\n    data() {\r\n        return {\r\n            currEvent: {},\r\n            fieldVisible: false,\r\n            evnetVisible: false\r\n        }\r\n    },\r\n    created() {\r\n        this.currEvent = this.events[0];\r\n    },\r\n    methods: {\r\n        onSelectMenu({item, key}) {\r\n            this.currEvent = this.events[key];\r\n        },\r\n        addFieldEvent(val) {\r\n            if (val != null) {\r\n                console.log(val);\r\n                this.events.push({\r\n                    field: {\r\n                        id: val.id,\r\n                        comment: val.comment + '/' + val.name.toUpperCase()\r\n                    },\r\n                    events: {}\r\n                });\r\n            }\r\n        },\r\n        addEvent(data) {\r\n            const eventName = `On${$beginUpperCase(data.type)}_${unique()}`;\r\n            this.$set(this.currEvent.events, eventName, {\r\n                ...data,\r\n                action: []\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction $beginUpperCase(val) {\r\n    if (!val) return val;\r\n    if (val.length == 0) return val;\r\n    return val.substr(0, 1).toUpperCase() + val.substr(1, val.length);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.behavior-setting {\r\n    .toolbar {\r\n        margin: 10px 5px;\r\n        text-align: center;\r\n        > button {\r\n            width: 150px;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=3df5892b&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Setting from './Setting.vue'\r\nexport default Setting;","import { once } from '@/utils/common'\r\n\r\nexport default function (vm, editor) {\r\n    if (vm.ctx) {\r\n        editor.setContent(vm.ctx);\r\n    }\r\n    editor.tinymce = window.tinyMCE;\r\n    editor.resolve = function (n, o) {\r\n        return editor.tinymce.util.Tools.resolve(n, o);\r\n    }\r\n    editor.getEventDispatcher = function () {\r\n        return this._eventDispatcher;\r\n    }\r\n    editor.on('NodeChange Change KeyUp KeyDown SetContent', function () {\r\n        vm.ctx = editor.getContent();\r\n        availableField(vm, (s) => editor.dom.$(s, editor.getBody()));\r\n    });\r\n    editor.on('undo', function () {\r\n        vm.ctx = editor.getContent();\r\n        availableField(vm, (s) => editor.dom.$(s, editor.getBody()));\r\n    });\r\n    const timer = setInterval(() => {\r\n        if (editor.settings.destroy) {\r\n            clearInterval(timer);\r\n            return;\r\n        }\r\n        availableField(vm, (s) => editor.dom?.$(s, editor.getBody()));\r\n    }, 1000);\r\n\r\n    editor.on('Cut Copy', function (e) {\r\n        const selection = editor.selection;\r\n        const content = selection.getContent();\r\n        if (/[^a-zA-Z]+mce-field[^a-zA-Z]+/.test(content)) {\r\n            e.preventDefault();\r\n            editor.notificationManager.open({ text: '【数据源/组件库】不可剪切、复制!', type: 'error' });\r\n            return\r\n        }\r\n    });\r\n\r\n    function changeEvents(edr, bindings, removed) {\r\n        for (let index = 0; index < bindings.length; index++) {\r\n            const binding = bindings[index];\r\n            const events = edr.bindings[binding];\r\n\r\n            for (let index = 0; index < events.length; index++) {\r\n                const event = events[index];\r\n                event.removed = removed;\r\n            }\r\n        }\r\n    }\r\n\r\n    editor.on('ObjectSelected', function () {\r\n        setTimeout(function () {\r\n            const node = editor.selection.getNode();\r\n            const removed = containClass(node, 'mce-table-line');\r\n            changeEvents(editor.getEventDispatcher(), ['mousemove'], removed);\r\n        });\r\n    });\r\n\r\n    editor.on('dblclick', function (e) {\r\n        if (containClass(e.target, 'mce-table-line')) {\r\n            const localField = vm.data.lines?.find(f => f.id == e.target.id);\r\n            if (localField && vm.editLineTable) {\r\n                vm.editLineTable(e, localField);\r\n            }\r\n        }\r\n    });\r\n\r\n    editor.on('BeforeExecCommand', function (event) {\r\n        event.target.settings.now_event_wait = event.command;\r\n    });\r\n\r\n    editor.on('GetContent', function (event) {\r\n        if (event.target.settings.now_event_wait == 'mcePreview') {\r\n            once('preview', 300, () => {\r\n                const { content } = event.target.fire('preview', event);\r\n                event.content = content;\r\n            });\r\n        }\r\n    });\r\n\r\n    // 重写tinymce的window open接口，以达到干预作用\r\n    editor.on('load', function () {\r\n        const open = editor.windowManager.open;\r\n        editor.windowManager.open = function (args, params) {\r\n            const event = editor.fire('Winopen', { command: 'winopen', args, params });\r\n            console.log('winopn', event);\r\n            return open(event.args, event.params);\r\n        };\r\n\r\n        // 明细表格拓展\r\n        if (editor.hasPlugin('table')) {\r\n            const isTableLine = (element) => {\r\n                const list = element.querySelectorAll('.mce-table-line');\r\n                for (let index = 0; index < list.length; index++) {\r\n                    if (list[index].hasAttribute('data-mce-selected')) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n\r\n            // 原始表格中存在明细表则不显示原始表格的浮动菜单\r\n            overwiteContextToolbars(editor, 'table', function (oldCb) {\r\n                return (element) => (oldCb(element) && isTableLine(element));\r\n            });\r\n        }\r\n    });\r\n\r\n    // 注册字段组件的菜单项\r\n    editor.ui.registry.addToggleButton('fieldattr', {\r\n        icon: 'preferences',\r\n        tooltip: '编辑字段属性',\r\n        onAction: makeFieldDialog(vm, editor)\r\n    });\r\n    editor.ui.registry.addToggleButton('fieldhidden', {\r\n        icon: 'preview',\r\n        tooltip: '设置字段不可见',\r\n        onSetup: api => {\r\n            const currNode = editor.selection.getNode();\r\n            api.setDisabled(!(isField(currNode) && !currNode.children[0].classList?.contains('iconhidden-l')));\r\n            currNode.hapi = api;\r\n        },\r\n        onAction: api => {\r\n            const currNode = editor.selection.getNode();\r\n            delClass(currNode.children[0]);\r\n            addClass(currNode.children[0], ['iconfont', 'iconhidden-l']);\r\n            api.setDisabled(true);\r\n            const field = vm.data.main.fields.find(i => i.id == currNode.id);\r\n            field.hidden = true;\r\n            field.editable = true;\r\n            currNode.rapi.setDisabled(false);\r\n        }\r\n    });\r\n    editor.ui.registry.addToggleButton('fieldreadonly', {\r\n        icon: 'permanent-pen',\r\n        tooltip: '设置字段不可编辑',\r\n        onSetup: api => {\r\n            const currNode = editor.selection.getNode();\r\n            api.setDisabled(!(isField(currNode) && !currNode.children[0].classList?.contains('iconread-only')));\r\n            currNode.rapi = api;\r\n        },\r\n        onAction: api => {\r\n            const currNode = editor.selection.getNode();\r\n            delClass(currNode.children[0]);\r\n            addClass(currNode.children[0], ['iconfont', 'iconread-only']);\r\n            api.setDisabled(true);\r\n            const field = vm.data.main.fields.find(i => i.id == currNode.id);\r\n            field.hidden = false;\r\n            field.editable = false;\r\n            currNode.hapi.setDisabled(false);\r\n        }\r\n    })\r\n    editor.ui.registry.addContextToolbar('field', {\r\n        predicate: element => isField(element),\r\n        items: 'fieldattr|fieldhidden|fieldreadonly',\r\n        position: 'node',\r\n        scope: 'node',\r\n        type: 'contexttoolbar'\r\n    })\r\n}\r\n\r\nlet cachedElement = null;\r\n\r\nfunction makeFieldDialog(vm, edi) {\r\n    const pannelArgs = {\r\n        title: '编辑字段属性',\r\n        size: 'normal',\r\n        body: {\r\n            type: 'panel',\r\n            items: [\r\n                {\r\n                    type: 'grid',\r\n                    columns: 2,\r\n                    items: [\r\n                        { type: 'input', name: 'category', label: '类别', disabled: true }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'grid',\r\n                    columns: 2,\r\n                    items: [\r\n                        { type: 'input', name: 'width', label: 'width' }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'grid',\r\n                    columns: 3,\r\n                    items: [\r\n                        { type: 'label', label: '无边框', items: [\r\n                            { type: 'checkbox', name: 'nobor', label: '消除框边线' }\r\n                        ]},\r\n                        { type: 'label', label: '隐藏', items: [\r\n                            { type: 'checkbox', name: 'hidden', label: '字段不可见' }\r\n                        ]},\r\n                        { type: 'label', label: '只读', items: [\r\n                            { type: 'checkbox', name: 'readonly', label: '字段不可编辑' }\r\n                        ]}\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        buttons: [\r\n            { type: 'cancel', name: 'cancel', text: 'cancel' },\r\n            { type: 'submit', name: 'save', text: 'save', primary: true }\r\n        ],\r\n        onSubmit: (api) => {\r\n            const data = api.getData();\r\n            cachedElement.style.width = data.width;\r\n            cachedElement.setAttribute('data-mce-style', 'width: ' + data.width);\r\n            delClass(cachedElement.children[0]);\r\n            if (data.hidden) {\r\n                addClass(cachedElement.children[0], ['iconfont', 'iconhidden-l']);\r\n            } else \r\n            if (data.readonly) {\r\n                addClass(cachedElement.children[0], ['iconfont', 'iconread-only']);\r\n            } else {\r\n                addClass(cachedElement.children[0], ['iconfont', 'iconedit']);\r\n            }\r\n            cachedElement.setAttribute('mce-nobor', data.nobor);\r\n            api.close();\r\n        }\r\n    };\r\n    return _ => {\r\n        const currNode = edi.selection.getNode();\r\n        if (!isField(currNode)) {\r\n            return;\r\n        }\r\n        const field = vm.data.main.fields.find(i => i.id == currNode.id);\r\n        const style = currNode.style;\r\n        pannelArgs['title'] = `字段：${currNode.innerText}`\r\n        pannelArgs['initialData'] = {\r\n            width: style.width,\r\n            category: field.category,\r\n            hidden: currNode.children[0].classList.contains('iconhidden-l'),\r\n            readonly: currNode.children[0].classList.contains('iconread-only'),\r\n            nobor: (currNode.getAttribute('mce-nobor') == 'true' || false)\r\n        };\r\n        cachedElement = currNode;\r\n        edi.windowManager.open(pannelArgs);\r\n    }\r\n}\r\n\r\nfunction isField(el) {\r\n    return el && el.nodeName == 'SPAN' && el.classList?.contains('mce-field');\r\n}\r\n\r\nfunction delClass(el, keys = '*') {\r\n    if (typeof keys == 'string') {\r\n        if (keys === '*') {\r\n            keys = [];\r\n            el.classList.forEach(it => keys.push(it));\r\n        } else keys = [keys];\r\n    }\r\n    for (let index = keys.length - 1; index >= 0; index--) {\r\n        el.classList?.remove(keys[index]);\r\n    }\r\n}\r\n\r\nfunction addClass(el, keys = []) {\r\n    keys.forEach(key => el.classList?.add(key));\r\n}\r\n\r\n\r\nfunction availableField(vm, $) {\r\n    for (let index = 0, fields = [...vm.data.main.fields, ...(vm.data.lines || [])];\r\n        index < fields.length; index++) {\r\n        const field = fields[index];\r\n        const disabled = !(field.id && $('#' + field.id)?.length == 0);\r\n        field.disabled = disabled;\r\n    }\r\n}\r\n\r\nfunction overwiteContextToolbars(edi, key, callback) {\r\n    const { contextToolbars } = edi.ui.registry.getAll();\r\n    const toolbar = contextToolbars[key];\r\n    toolbar.predicate = callback(toolbar.predicate);\r\n}\r\n\r\n\r\nfunction containClass(node, clazz) {\r\n    return (node && node.classList && node.classList.contains(clazz));\r\n}\r\n\r\nfunction isNumber(val) {\r\n    if (val == null) return false;\r\n    if (typeof val === 'number') return true;\r\n    if (typeof val === 'string') {\r\n        const regex = /^[0-9]+.?[0-9]*/;\r\n        return regex.test(val);\r\n    }\r\n    return false;\r\n}","export default [\r\n    function (vm, event, ctx) { // 转换field\r\n        event.target.StyleUtils = new event.target.editorManager.resolve('tinymce.html.Styles')({})\r\n        ctx['data'] = {};\r\n        ctx['props'] = {\r\n            printMode: {\r\n                type: 'Boolean',\r\n                default: false\r\n            }\r\n        };\r\n        ctx['body'] = event.target.dom.create('body', {}, event.content);\r\n        const DOMUtils = event.target.resolve('tinymce.dom.DOMUtils');\r\n        const blocks = DOMUtils.DOM.$('.mce-field', ctx['body']);\r\n        if (!ctx['data'].formData) ctx['data'].formData = {};\r\n\r\n        const cacheFields = {};\r\n        [...vm.data.main.fields, ...[].concat(...vm.data.lines.map(it => it.fields),\r\n            ...vm.data.lines.map(it => ({ id: it.id, comment: it.table_comment, name: it.table_name })))]\r\n            .forEach(it => cacheFields[it.id] = it);\r\n        ctx['cacheFields'] = cacheFields;\r\n        blocks.each(function (idx, n) {\r\n            const style = event.target.StyleUtils.parse(n.getAttribute('style'));\r\n            const field = cacheFields[n.id];\r\n            const opt = { \r\n                printMode: 'printMode',\r\n                hidden: n.children[0].classList.contains('iconhidden-l'),\r\n                readonly: n.children[0].classList.contains('iconread-only'),\r\n                nobor: (n.getAttribute('mce-nobor') == 'true' || false),\r\n                width: style.width\r\n            };\r\n            if (field.category == 'select') {\r\n                opt['options'] = field.options;\r\n            }\r\n            if (field.category == 'date') {\r\n                opt['format'] = field.format;\r\n            }\r\n\r\n            const optionString = JSON.stringify(opt, null, 4)\r\n                .replace(/\"printMode\": \"([^\"]+)\"/g, 'printMode: $1');\r\n            if (!n.classList.contains('tl')) {\r\n                const input = event.target.dom.create('f-' + field.category, { id: n.id, 'v-model': `formData.${field.name}`, ':options': optionString });\r\n                (n.parentElement || n.parentNode).replaceChild(input, n);\r\n                ctx['data'].formData[field.name] = null;\r\n            } else {\r\n                const input = event.target.dom.create('f-' + field.category, { ':id': `'${n.id}_' + idx`, 'v-model': `item.${field.name}`, ':options': optionString });\r\n                (n.parentElement || n.parentNode).replaceChild(input, n);\r\n            }\r\n        });\r\n    },\r\n\r\n    function (vm, event, ctx) { // 转换table line\r\n        const DOMUtils = event.target.resolve('tinymce.dom.DOMUtils');\r\n        const blocks = DOMUtils.DOM.$('.mce-table-line', ctx['body']);\r\n        const cacheFields = ctx['cacheFields'];\r\n        blocks.each(function (idx, n) {\r\n            const field = cacheFields[n.id];\r\n            const table = n.querySelector('table');\r\n            table.id = n.id;\r\n            const tr = table.querySelector('tr.line_field_row');\r\n            tr.setAttribute('v-for', `(item, idx) in formData.${field.name}`);\r\n            tr.setAttribute(':key', `idx`);\r\n            ctx['data'].formData[field.name] = [];\r\n            const div = event.target.dom.create('div', {}, n.innerHTML);\r\n            const gbtm = event.target.dom.create('span', {'v-show': '!printMode', style: 'position: absolute; right: 2px; background-color: #e7e7e785'});\r\n            const btm1 = event.target.dom.create('a-icon', {type: 'plus', style: 'margin: 0 5px; color: green; cursor: pointer', 'v-on:click': `formData.${field.name}.push({})`});\r\n            const btm2 = event.target.dom.create('a-icon', {type: 'minus', style: 'margin: 0 5px; color: red; cursor: pointer', 'v-on:click': `(e) => {\r\n                const data = this.formData.${field.name};\r\n                for(let i = data.length - 1; i >= 0; i--) {\r\n                    if (data[i].checked) {\r\n                        data.splice(i, 1);\r\n                    }\r\n                }\r\n            }`});\r\n            div.querySelectorAll('table tr > td.checkbox > input[type=\"checkbox\"]').forEach((item, idx) => {\r\n                item.setAttribute('v-model', 'item.checked');\r\n            });\r\n            gbtm.appendChild(btm2);\r\n            gbtm.appendChild(btm1);\r\n            div.querySelector('table tr > td:last-child')\r\n                .appendChild(gbtm);\r\n            (n.parentElement || n.parentNode).replaceChild(div, n);\r\n        });\r\n    },\r\n\r\n    function (vm, event, ctx) { // 事件集成\r\n        const events = vm.events;\r\n        const mtds = ctx['methods'] = {};\r\n        events.forEach(evt => {\r\n            const evts = {};\r\n            objEach(evt.events, (ev, key) => {\r\n                const convString = conv(ctx, ev);\r\n                if (convString) {\r\n                    (evts[ev.type] = evts[ev.type] || []).push(key + '()');\r\n                    mtds[key] = `() { ${convString} }`;\r\n                }\r\n            });\r\n            const block = ctx['body'].querySelector('#' + evt.field.id);\r\n            if (block) {\r\n                objEach(evts, (el, key) => {\r\n                    block.setAttribute(`v-on:${key}`, `() => { ${el.join(';')} }`);\r\n                });\r\n            }\r\n        });\r\n    }\r\n]\r\n\r\nfunction objEach(obj, callback) {\r\n    Object.keys(obj).forEach(i => callback(obj[i], i));\r\n}\r\n\r\nfunction conv(ctx, ev) {\r\n    const cache = ctx['cacheFields'];\r\n    const formData = ctx['data'].formData;\r\n    switch (ev.bus) {\r\n        case 'default': {\r\n            return ev.action.map(it => {\r\n                if (!Object.keys(formData).includes(cache[it.id].name)) return null;\r\n                return `this.formData.${cache[it.id].name} = '${it.exec.value == null ? \"\" : it.exec.value}'`;\r\n            }).join(';');\r\n        }\r\n        case 'script': {\r\n            return ev.action.map(it => {\r\n                switch (it.exec.type) {\r\n                    case \"script\": {\r\n                        return it.exec.value;\r\n                    }\r\n                    case \"request\": {\r\n                        return `this.axios.${it.exec.method}('${it.exec.url || \"get\"}')\r\n                            .then((res) => { ${it.exec.value} })\r\n                        `\r\n                    }\r\n                    default: return null;\r\n                }\r\n            }).join(';');\r\n        }\r\n        default: return null;\r\n    }\r\n}","const mixins = () => ({\r\n    props: ['value', 'options'],\r\n    model: {\r\n        prop: 'value',\r\n        event: 'change'\r\n    },\r\n    data() {\r\n        return {\r\n            mdata: null\r\n        }\r\n    },\r\n    watch: {\r\n        value: {\r\n            immediate: true,\r\n            handler(n) {\r\n                this.mdata = n;\r\n            }\r\n        },\r\n        mdata(n, o) {\r\n            if (n != o) {\r\n                this.$emit('change', n);\r\n            }\r\n        },\r\n        'options.printMode': {\r\n            immediate: true,\r\n            handler(n) {\r\n                if (!n && this.options.nobor) {\r\n                    this.$nextTick(() => {\r\n                        const child = this.$el.children[0];\r\n                        if (child) {\r\n                            child.style.border = '0px';\r\n                            child.style['box-shadow'] = 'unset';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nconst styles = (options) => {\r\n    return { width: options.width, margin: '0 2px' };\r\n};\r\n\r\n// 预览时存在缓存该组件，所以使用函数每次预览返回一个新的\r\nexport function inputMaker() {\r\n    return {\r\n        mixins: [mixins()],\r\n        render() {\r\n            const style = styles(this.options);\r\n            return this.options.printMode || this.options.readonly ?\r\n                (<div style={{ ...style, display: 'inline-block' }}>{this.mdata}</div>) :\r\n                (<a-input allowClear onBlur={$blur(this, this.$listeners.blur)} style={style} size=\"small\" v-model={this.mdata} />);\r\n        }\r\n    }\r\n}\r\n\r\nexport function textareaMaker() {\r\n    return {\r\n        mixins: [mixins()],\r\n        render() {\r\n            const style = styles(this.options);\r\n            style['vertical-align'] = 'top';\r\n            return this.options.printMode || this.options.readonly ?\r\n                (<div style={{ ...style, display: 'inline-block' }}>{this.mdata?.split(/[\\s\\n]/).map(it => <div>{it}</div>)}</div>) :\r\n                (<a-textarea allowClear onBlur={$blur(this, this.$listeners.blur)} style={style} size=\"small\" v-model={this.mdata} />);\r\n        }\r\n    }\r\n}\r\n\r\nexport function selectMaker() {\r\n    return {\r\n        mixins: [mixins()],\r\n        render() {\r\n            const style = styles(this.options);\r\n            const list = this.options.options?.split(',') || [];\r\n            return this.options.printMode || this.options.readonly ?\r\n                (<div style={{ ...style, display: 'inline-block' }}>{list[this.mdata]}</div>) :\r\n                (<a-select allowClear onBlur={$blur(this, this.$listeners.blur)} style={style} size=\"small\" v-model={this.mdata}>\r\n                    {list.map((val, idx) => (<a-select-option value={idx}>{val}</a-select-option>))}\r\n                </a-select>);\r\n        }\r\n    }\r\n}\r\n\r\nexport function dateMaker() {\r\n    return {\r\n        mixins: [mixins()],\r\n        render() {\r\n            const style = styles(this.options);\r\n            return this.options.printMode || this.options.readonly ?\r\n                (<div style={{ ...style, display: 'inline-block' }}>{this.mdata?.format(this.options.format || 'YYYY-MM-DD')}</div>) :\r\n                (<a-date-picker onBlur={$blur(this, this.$listeners.blur)} style={style} size=\"small\" allowClear v-model={this.mdata} format={this.options.format || 'YYYY-MM-DD'} />);\r\n        }\r\n    }\r\n}\r\n\r\nexport function dialogMaker() {\r\n    return {\r\n        mixins: [mixins()],\r\n        render() {\r\n            const style = styles(this.options);\r\n            return this.options.printMode || this.options.readonly ?\r\n                (<div style={{ ...style, display: 'inline-block' }}>{this.mdata}</div>) :\r\n                (<a-input-search readOnly onBlur={$blur(this, this.$listeners.blur)} style={style} size=\"small\" allowClear onSearch={() => {\r\n                    alert('还没有实现哦~')\r\n                }} />);\r\n        }\r\n    }\r\n}\r\n\r\nconst Fn = () => { }\r\nfunction $blur(vm, cb) {\r\n    var old = null;\r\n    return function (e) {\r\n        if (old != vm.mdata) {\r\n            old = vm.mdata;\r\n            (cb || Fn)(e);\r\n        }\r\n    }\r\n}","<template>\r\n    <a-spin class=\"editjs\" :spinning=\"loading\" tip=\"Loading...\">\r\n        <a-tabs style=\"height: 100%\" v-model=\"akey\" size=\"small\" :tabBarGutter=\"10\" :tabBarExtraContent='createTabToolbar' :tabBarStyle=\"{padding: '0 10px'}\">\r\n            <div slot=\"toolbar\">123</div>\r\n            <a-tab-pane key=\"tab-1\" tab=\"设计器\">\r\n                <a-layout>\r\n                    <a-layout-sider :width=\"260\" ref=\"leftPanel\">\r\n                        <a-collapse defaultActiveKey=\"2\" :accordion=\"true\" expand-icon-position=\"left\" :bordered=\"false\">\r\n                            <a-collapse-panel key=\"1\" header=\"组件库\" forceRender>\r\n                                <p :style=\"{height: height - 116 + 'px', overflow: 'auto'}\">collapse demo</p>\r\n                                <a-icon slot=\"extra\" type=\"setting\" />\r\n                            </a-collapse-panel>\r\n                            <a-collapse-panel key=\"2\" header=\"数据源\">\r\n                                <a-tree blockNode :style=\"{height: height - 102 + 'px', overflow: 'auto'}\" :show-line=\"true\" :show-icon=\"true\" :default-expanded-keys=\"['main']\">\r\n                                    <a-tree-node :selectable=\"false\" key=\"main\" title=\"主表\">\r\n                                        <a-tree-node :disabled=\"f.disabled\" v-for=\"(f, idx) in data.main.fields\" :selectable=\"false\" :key=\"'field-' + idx\" :title=\"f.comment + '/' + f.name.toUpperCase()\" @dblclick.native=\"insertField(1, f)\" />\r\n                                    </a-tree-node>\r\n                                    <a-tree-node :selectable=\"false\" key=\"lines\" title=\"明细表\">\r\n                                        <a-tree-node :disabled=\"t.disabled\" v-for=\"(t, idx) in data.lines\" :selectable=\"false\" :key=\"'lines-' + idx\" :title=\"t.table_comment + '/' + t.table_name.toUpperCase()\" @dblclick.native=\"insertField(0, t)\" />\r\n                                    </a-tree-node>\r\n                                </a-tree>\r\n                                <a-icon slot=\"extra\" type=\"setting\" />\r\n                            </a-collapse-panel>\r\n                        </a-collapse>\r\n                    </a-layout-sider>\r\n                    <a-layout-content>\r\n                        <Tinymce lang=\"zh_CN\" @preview=\"preview\" @init-event=\"loading = false\" :config=\"config\"\r\n                            :field-info=\"{...data.main, lines: data.lines }\" ref=\"tmceInstance\" :value=\"content\" />\r\n                    </a-layout-content>\r\n                </a-layout>\r\n            </a-tab-pane>\r\n            <a-tab-pane key=\"tab-2\" tab=\"表单设置\">\r\n                <FormSetting :data=\"data\" />\r\n            </a-tab-pane>\r\n            <a-tab-pane key=\"tab-3\" tab=\"行为设置\">\r\n                <BehaviorSetting :events=\"events\" :field-data=\"data\" />\r\n            </a-tab-pane>\r\n            <a-tab-pane v-for=\"(title, idx) in tabs\" :key=\"'tab-' + (4 + idx)\">\r\n                <span slot=\"tab\">\r\n                    <span style=\"margin-right: 5px\">{{title}}</span>\r\n                    <a-icon class=\"tab-close\" type=\"close\" style=\"margin-right: 0\" @click=\"closeTab(idx)\" />\r\n                </span>\r\n                <EditLine :ref=\"'editLine' + (4 + idx)\" :plugins=\"plugins\" @init-event=\"loading = false\" :data=\"{main: editLines[idx]}\" :actTab=\"akey\" :tabIndex=\"'tab-' + (4 + idx)\" />\r\n            </a-tab-pane>\r\n        </a-tabs>\r\n    </a-spin>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios' \r\nimport Tinymce from './Tinymce.vue'\r\nimport EditLine from './EditLine.vue'\r\nimport FormSetting from './FormSetting.vue'\r\nimport BehaviorSetting from './behavior'\r\nimport ErdMaker from 'element-resize-detector'\r\nimport prettier from 'prettier'\r\nimport parserHtml from 'prettier/parser-html'\r\nimport parserBabel from 'prettier/parser-babel'\r\nimport { constTableTpl } from './config'\r\nimport plugin from './plugin'\r\nimport { unique } from '@/utils/common'\r\nimport conversions from './conversion'\r\nimport { \r\n    inputMaker,\r\n    textareaMaker,\r\n    dateMaker,\r\n    selectMaker,\r\n    dialogMaker,\r\n} from './field'\r\nexport default {\r\n    components: {\r\n        Tinymce,\r\n        EditLine,\r\n        FormSetting,\r\n        BehaviorSetting\r\n    },\r\n\r\n    props: {\r\n        data: {\r\n            type: Object,\r\n            default() {\r\n                return {}\r\n            }\r\n        },\r\n        content: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        events: {\r\n            type: Array,\r\n            default() {\r\n                return []\r\n            }\r\n        },\r\n        plugins: {\r\n            type: Array,\r\n            default() {\r\n                return []\r\n            }\r\n        },\r\n        conversions: {\r\n            type: Array,\r\n            default() {\r\n                return []\r\n            }\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            akey: 'tab-1',\r\n            height: 0,\r\n            tabs: [],\r\n            editLines: [],\r\n            loading: true,\r\n            config: {},\r\n            insidePlugins: [],\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        'akey': function (n, o) {\r\n            if (n != o && n == 'tab-1') {\r\n                this.$refs.tmceInstance.reload();\r\n            }\r\n        }\r\n    },\r\n\r\n    created() {\r\n        const vm = this;\r\n        this.plugins.push(plugin);\r\n        this.insidePlugins = this.insidePlugins.concat([...this.plugins, (_, edi) => edi.on('preview', (e) => vm.preview(e)), g_plugin]);\r\n        conversions.map(conversion => this.conversions.push(conversion));\r\n        this.config['setup'] = function(editor) {\r\n            const plugins = vm.insidePlugins;\r\n            for (let index = 0; index < plugins.length; index++) {\r\n                const plugin = plugins[index];\r\n                plugin(vm, editor);\r\n            }\r\n        }\r\n        \r\n        const main = this.data.main.fields;\r\n        function $set(el) {\r\n            if (!el.id) vm.$set(el, 'id', unique());\r\n            vm.$set(el, 'disabled', false);\r\n        }\r\n        for (let index = 0; index < main.length; index++) {\r\n            $set(main[index]);\r\n        }\r\n        const lines = this.data.lines;\r\n        for (let index = 0; index < lines.length; index++) {\r\n            $set(lines[index]);\r\n            for (let idx = 0; idx < lines[index].fields.length; idx++) {\r\n                $set(lines[index].fields[idx]);\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        const self = this;\r\n        ErdMaker().listenTo(this.$refs.leftPanel.$el, function (element) {\r\n            self.height = element.offsetHeight;\r\n        });\r\n    },\r\n\r\n    methods: {\r\n        closeTab(index) {\r\n            this.tabs.splice(index, 1);\r\n            setTimeout(() => { this.akey = 'tab-1' });\r\n        },\r\n\r\n        insertField(isMain, metadata) {\r\n            if (metadata.disabled) return;\r\n            const { tmceInstance } = this.$refs;\r\n            if (isMain) {\r\n                const { DOM } = g_resolve('tinymce.dom.DOMUtils');\r\n                const args = { class: 'unedit mce-field', id: metadata.id, style: 'width: 200px;' + (metadata.noBorder ? 'border: 1px dashed' : '') };\r\n                const htmlField = DOM.create('span', args, metadata.comment + '/' + metadata.name.toUpperCase() + '<i class=\"iconfont iconedit\"/>');\r\n                tmceInstance.insertElement(htmlField);\r\n                metadata.disabled = true;\r\n                tmceInstance.focus();\r\n            } else {\r\n                this.openTab(metadata);\r\n            }\r\n        },\r\n\r\n        insertLineTable(metadata, ctx) {\r\n            const tmceInstance = this.$refs.tmceInstance;\r\n            const { DOM } = g_resolve('tinymce.dom.DOMUtils');\r\n            let lineTableBlock = DOM.$('#' + metadata.id, g_activeEditor().getDoc());\r\n            if (lineTableBlock.length > 0) {\r\n                lineTableBlock = lineTableBlock[0];\r\n                lineTableBlock.innerHTML = ctx;\r\n                this.ctx = tmceInstance.getContent();\r\n                return;\r\n            }\r\n            const htmlLineTable = DOM.create('div', { class: 'unedit mce-table-line', title: metadata.table_comment, id: metadata.id });\r\n            htmlLineTable.innerHTML = ctx || '';\r\n            tmceInstance.insertElement(htmlLineTable);\r\n            metadata.disabled = true;\r\n            tmceInstance.focus();\r\n            this.ctx = tmceInstance.getContent();\r\n        },\r\n\r\n        editLineTable(e, metadata) {\r\n            this.openTab(metadata, e.target.innerHTML);\r\n        },\r\n\r\n        createTabToolbar() {\r\n            if (!['tab-2', 'tab-3'].includes(this.akey)) {\r\n                return (<a-button type=\"dashed\" size=\"small\" shape=\"round\" onClick={this.tabSave}><a-icon type=\"save\" theme=\"filled\" />保存</a-button>)\r\n            }\r\n        },\r\n\r\n        tabSave() {\r\n            const actTab = this.akey;\r\n            switch (actTab) {\r\n                case 'tab-1':\r\n                    this.$emit('save', {\r\n                        tableInfo: this.data,\r\n                        behavior: {\r\n                            content: this.$refs.tmceInstance.getContent(),\r\n                            events: JSON.stringify(this.events),\r\n                            dialogs: null\r\n                        }\r\n                    });\r\n                    break;\r\n                case 'tab-2':\r\n                case 'tab-3':\r\n                    break;\r\n                default: {\r\n                    const split = actTab.split('-');\r\n                    const ref = this.$refs['editLine' + split[1]];\r\n                    if (ref && ref.length > 0) {\r\n                        this.loading = true;\r\n                        const result = ref[0].save();\r\n                        ref[0].distory();\r\n                        this.akey = 'tab-1';\r\n                        // 销毁明细行面板\r\n                        const index = this.tabs.indexOf(result.metadata.table_comment);\r\n                        if (index > -1) {\r\n                            this.tabs.splice(index, 1);\r\n                            this.editLines.splice(index, 1);\r\n                        }\r\n                        g_syncLoading(this, () => {\r\n                            this.insertLineTable(result.metadata, result.ctx);\r\n                        });\r\n                    }\r\n                }\r\n\r\n            }\r\n        },\r\n\r\n        openTab(metadata, ctx) {\r\n            this.loading = true;\r\n            if (!ctx) {\r\n                this.insertLineTable(metadata);\r\n            }\r\n            let index = this.tabs.indexOf(metadata.table_comment);\r\n            if (index < 0) {\r\n                this.tabs.push(metadata.table_comment);\r\n                index = this.tabs.length - 1;\r\n            }\r\n\r\n            this.editLines[index] = metadata;\r\n            const self = this;\r\n            this.akey = 'tab-' + (4 + index);\r\n            g_syncLoading(this, () => {\r\n                const ref = self.$refs['editLine' + (4 + index)][0];\r\n                ref.setContent(ctx || constTableTpl);\r\n            });\r\n        },\r\n\r\n        preview(event) {\r\n            const ctx = {};\r\n            const conversions = this.conversions;\r\n            const DOMUtils = event.target.resolve('tinymce.dom.DOMUtils');\r\n            conversions.map(conversion => conversion(this, event, ctx));\r\n            // 底部添加按钮\r\n            const gbtms = DOMUtils.DOM.create('div', {style: 'background-color: #5857570d; position: fixed; top: 487px; right: 0; border-radius: 8px'});\r\n            const btm1 = DOMUtils.DOM.create('a-button', {'v-on:click': 'printMode = false','v-show': 'printMode', type: 'link'}, '编辑模式');\r\n            const btm2 = DOMUtils.DOM.create('a-button', {'v-on:click': 'printMode = true', 'v-show': '!printMode', type: 'link'}, '打印模式');\r\n            const btm3 = DOMUtils.DOM.create('a-button', {'v-on:click': `() => {\r\n                window.alert(JSON.stringify(this.formData));\r\n            }`, type: 'link'}, '获取数据');\r\n            const btm4 = DOMUtils.DOM.create('a-button', {'v-on:click': 'window.print()', 'v-show': 'printMode', type: 'link'}, '页面打印');\r\n            gbtms.appendChild(btm1);\r\n            gbtms.appendChild(btm2);\r\n            gbtms.appendChild(btm3);\r\n            gbtms.appendChild(btm4);\r\n            ctx['body'].appendChild(gbtms);\r\n            const content = ctx['body'].innerHTML;\r\n            ctx['body'].innerHTML = '';\r\n            const div = DOMUtils.DOM.create('div', {id: 'app'});\r\n            ctx['body'].appendChild(div);\r\n            const vue = DOMUtils.DOM.create('script', {src: 'https://cdn.jsdelivr.net/npm/vue@2'});\r\n            const antdLink = DOMUtils.DOM.create('link', {rel: 'stylesheet', href: 'https://cdn.jsdelivr.net/npm/ant-design-vue@1.7.8/dist/antd.css'});\r\n            const antd = DOMUtils.DOM.create('script', {src: 'https://cdn.jsdelivr.net/npm/ant-design-vue@1.7.8/dist/antd.js'});\r\n            const moment = DOMUtils.DOM.create('script', {src: 'https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.js'});\r\n            ctx['body'].appendChild(vue);\r\n            ctx['body'].appendChild(moment);\r\n            ctx['body'].appendChild(antdLink);\r\n            ctx['body'].appendChild(antd);\r\n            ctx['data'].moment = 'moment';\r\n            const metds = ctx['methods'];\r\n            if (g_hasKey(ctx['props'], 'printMode')) {\r\n                ctx['data'].printMode = ctx['props'].printMode?.default || false;\r\n                delete ctx['props'].printMode;\r\n            }\r\n            const script = DOMUtils.DOM.create('script', {type: \"text/javascript\"}, `\r\n                (function() {\r\n                    const win = window.parent;\r\n                    const doc = win.document;\r\n                    const page = doc.querySelector('div[role=\"dialog\"] .tox-dialog__body-content');\r\n                    page.style.height = '557px';\r\n                    setInterval(() => {\r\n                        page.style.height = '557px';\r\n                    }, 500);\r\n                    const p = win.__PREVIEW__;\r\n                    const components = {};\r\n                    Object.keys(p.components).map(i => components[i] = p.components[i]());\r\n                    Vue.prototype.axios = p.axios;\r\n                    p.$app  = new Vue({\r\n                        el: '#app',\r\n                        props: ${JSON.stringify(ctx['props'], null, 4).replace(/\"type\": \"([^\"]+)\"/g, 'type: $1')},\r\n                        data: ${JSON.stringify(ctx['data'], null, 4).replace(/\"moment\": \"([^\"]+)\"/g, 'moment: $1')},\r\n                        template: \\`<div>${content}</div>\\`,\r\n                        components: components,\r\n                        methods: {\r\n                            ${Object.keys(metds).map(key => key + metds[key] + ' ')}\r\n                        }\r\n                    });\r\n                })();\r\n            `);\r\n            ctx['body'].appendChild(script);\r\n            event.content = ctx['body'].innerHTML;\r\n            window['__PREVIEW__'] = {\r\n                axios,\r\n                components: {\r\n                    'f-input': inputMaker,\r\n                    'f-textarea': textareaMaker,\r\n                    'f-date': dateMaker,\r\n                    'f-select': selectMaker,\r\n                    'f-dialog': dialogMaker,\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\nfunction g_plugin(vm, edi) {\r\n    edi.on('winopen', (event) => {\r\n        if (event.args.title == 'Preview') {\r\n            event.content = edi.getBody().innerHTML;\r\n            // 重定义布局\r\n            const items = event.args.body.items;\r\n            items[0].sandboxed = false;\r\n            const tabs = [\r\n                {\r\n                    items,\r\n                    name: 'page',\r\n                    title: '页面'\r\n                },\r\n                {\r\n                    items: [\r\n                        {\r\n                            name: 'code',\r\n                            sandboxed: false,\r\n                            type: 'iframe'\r\n                        }\r\n                    ],\r\n                    name: 'code',\r\n                    title: '代码'\r\n                }\r\n            ];\r\n            event.args.body = {\r\n                tabs,\r\n                type: \"tabpanel\"\r\n            }\r\n            const ctx = {};\r\n            const conversions = vm.conversions;\r\n            conversions.map(conversion => conversion(vm, event, ctx));\r\n            const content = ctx['body'].innerHTML;\r\n            const metds = ctx['methods'];\r\n            const html = prettier.format(`<template>${content}</template><script>export default {\r\n                    props: ${JSON.stringify(ctx['props'], null, 4).replace(/\"type\": \"([^\"]+)\"/g, 'type: $1')},\r\n                    data() { return ${JSON.stringify(ctx['data'], null, 4).replace(/\"moment\": \"([^\"]+)\"/g, 'moment: $1')} }, \r\n                    methods: { ${Object.keys(metds).map(key => key + metds[key] + ' ')} }\r\n                }${'</'}script>`, {\r\n                parser: 'vue',\r\n                plugins: [parserHtml, parserBabel],\r\n                \"arrowParens\": \"always\",\r\n                \"bracketSameLine\": false,\r\n                \"bracketSpacing\": true,\r\n                \"embeddedLanguageFormatting\": \"auto\",\r\n                \"htmlWhitespaceSensitivity\": \"css\",\r\n                \"insertPragma\": false,\r\n                \"jsxSingleQuote\": false,\r\n                \"printWidth\": 80,\r\n                \"proseWrap\": \"preserve\",\r\n                \"quoteProps\": \"as-needed\",\r\n                \"requirePragma\": false,\r\n                \"semi\": true,\r\n                \"singleQuote\": false,\r\n                \"tabWidth\": 2,\r\n                \"trailingComma\": \"es5\",\r\n                \"useTabs\": false,\r\n                \"vueIndentScriptAndStyle\": false\r\n            }).replace(/\\n/g, '\\\\n').replace(/</g, '&lt;');\r\n            event.args.initialData.code = \r\n            '<!DOCTYPE html>' +\r\n            '<html>' +\r\n            '<head>' +\r\n            '<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">' +\r\n            '<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">' +\r\n            '<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.3.1/build/styles/atom-one-dark.min.css\">' +\r\n            '<script src=\"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.3.1/build/highlight.min.js\"><' +'/script>' +\r\n            '<script src=\"https://cdn.jsdelivr.net/npm/vue@2\"><' + '/script>' +\r\n            '<style>' +\r\n            `  html,body {\r\n                    height: calc(100% - 21px);\r\n                }\r\n                #intro,pre,pre > code {\r\n                    height: 100%;\r\n                }\r\n                pre > code {\r\n                    white-space: pre;\r\n                    font-family: 'Courier New';\r\n                    font-size: 13px;\r\n                    border: 1px solid #d7c9c9;\r\n                    padding: 2px;\r\n                    overflow: auto;\r\n                }` +\r\n            '</style>' +\r\n            '</head>' +\r\n            '<body id=\"tinymce\" class=\"mce-content-body \">' +\r\n            '<div id=\"intro\">' + \r\n            '<pre><code class=\"language-html\" v-html=\"text\" /></pre>' +\r\n            '</div>' +\r\n            '<script type=\"text/javascript\">' +\r\n            `   (function() {\r\n                    new Vue({\r\n                        el: '#intro',\r\n                        data: {\r\n                            text: \\`${html}\\`\r\n                        },\r\n                        mounted() {\r\n                            const el = this.$el.querySelector('pre code');\r\n                            hljs.highlightElement(el);\r\n                        }\r\n                    });\r\n                })()` +\r\n            '<' + '/script>' +\r\n            '</body>' +\r\n            '</html>';\r\n        }\r\n    });\r\n}\r\n\r\nfunction g_syncLoading(self, callback) {\r\n    const timer = setInterval(() => {\r\n        if (!self.loading) {\r\n            clearInterval(timer);\r\n            callback();\r\n        }\r\n    }, 500);\r\n}\r\n\r\nfunction g_resolve(ctx, editor) {\r\n    return window['tinyMCE'].resolve(ctx, editor);\r\n}\r\n\r\nfunction g_activeEditor() {\r\n    return window['tinyMCE'].activeEditor;\r\n}\r\n\r\nfunction g_hasKey(obj, key) {\r\n    return Object.keys(obj).includes(key);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.editjs {\r\n    height: 100%;\r\n    .ant-spin-container {\r\n        height: 100%;\r\n    }\r\n    .ant-tabs-bar {\r\n        margin-bottom: 0px;\r\n    }\r\n    .ant-tabs-content,\r\n    .ant-tabs-tabpane {\r\n        height: 100%;\r\n    }\r\n    .ant-layout {\r\n        height: calc(100% - 36px);\r\n    }\r\n    .ant-layout-sider,\r\n    .ant-layout-content {\r\n        background-color: white;\r\n        border: 1px solid #e8e8e8;\r\n    }\r\n\r\n    .ant-collapse-content > .ant-collapse-content-box {\r\n        border-top: 1px solid #d9d9d9;\r\n        background-color: white;\r\n        padding: 1px;\r\n        [class^=\"ant-tree-treenode-switcher\"] {\r\n            font-size: 12px;\r\n            user-select: none;\r\n            li {\r\n                padding: 2px 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    .tab-close {\r\n        color: #808080;\r\n        &:hover {\r\n            color: black;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editjs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editjs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editjs.vue?vue&type=template&id=5f8135a0&\"\nimport script from \"./Editjs.vue?vue&type=script&lang=js&\"\nexport * from \"./Editjs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editjs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"app\">\r\n        <Editjs v-if=\"ready\" :data=\"mock\" :content=\"context\" :events=\"events\" @save=\"save\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Editjs from \"./components/Editjs.vue\"\r\n\r\nconst baseUrl = process.env.NODE_ENV == 'production' ?\r\n    'http://114.132.201.94:8081' : '/bapi'\r\n\r\nexport default {\r\n    name: 'App',\r\n    components: {\r\n        Editjs,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            events: [],\r\n            context: '',\r\n            ready: false,\r\n            mock: null\r\n        }\r\n    },\r\n    created() {\r\n        axios.get(baseUrl + '/editjs/mata-info/b3009f91-4b97-11ec-8fd2-b42e99147792/node-b11aw23h0')\r\n            .then(res => {\r\n                if (res.status == 200) {\r\n                    this.mock = res.data.tableInfo;\r\n                    this.events = JSON.parse(res.data.behavior.events.replaceAll('\\\\\\\\n', '\\\\n'));\r\n                    this.context = res.data.behavior.content;\r\n                    this.ready = true;\r\n                }\r\n            });\r\n    },\r\n    methods: {\r\n        save(data) {\r\n            console.log(\"save data\", data);\r\n            axios.put(baseUrl + '/editjs/mata-info/save/b3009f91-4b97-11ec-8fd2-b42e99147792/node-b11aw23h0', data).then(res => {\r\n                console.log('res', res);\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody,\r\n#app {\r\n    font-family: Avenir, Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    color: #2c3e50;\r\n    height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6e975a56&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Antd from 'ant-design-vue';\r\nimport App from './App.vue'\r\nimport 'ant-design-vue/dist/antd.css';\r\n\r\nVue.config.productionTip = false\r\nVue.use(Antd)\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editjs.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSetting.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueCodemirror.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}